<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>İZİBİZ Entegrasyon Kılavuzu - Proxy</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="stylesheets/fakeloader.css" rel="stylesheet" type="text/css" />
    <link href="stylesheets/izibiz.css" rel="stylesheet" type="text/css" />
    <link rel="icon" href="https://izibiz.com.tr/templates/theme3181/favicon.ico">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="javascripts/fakeloader.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122965680-2"></script>
    <script>
        /* Google Analytics start*/
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-122965680-2');
        /* Google Analytics end*/

 $(document).ready(function() {
      $('.tocify-item a').on('click', function(){
        ga('send', 'pageview', {'page': location.pathname + location.search  + location.hash});
      });
    });
    </script>

      <script>
        $(document).ready(
          function() {
              window.FakeLoader.init( );
          }
        );
        $(function() {
          setupLanguages(["csharp"]);
        });
      </script>
  </head>

  <body class="index">
    <div id="fakeloader-overlay" class="visible incoming"><div class="loader-wrapper-outer"><div class="loader-wrapper-inner"><div class="loader"></div></div></div></div>
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <div class="logo-holder">
        <a href="https://izibiz.com.tr"><img src="images/logo.png" alt="Logo" /></a>
      </div>
        <div class="lang-selector">
              <a href="#" data-language-name="csharp">C#</a>
        </div>
     <!-- <div class="key-replace">
        <input type="text" class="key-replace" placeholder="Your API Key (optional)">
      </div>
-->   
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.izibiz.com.tr/index.php/urun-ve-hizmetler/e-fatura-destek/efatura-portal-test-hesabi' target='_blank'>Test Hesabı Talep Formu</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="ba-larken">Başlarken</h1>

<p>İZİBİZ Entegrasyon kılavuzuna hoşgeldiniz. Bu kılavuz yazılımlarını İZİBİZ sistemlerine entegre etmek isteyen firmalara yol göstermek için hazırlanmıştır.  Entegrasyon kılavuzumuz aşağıda ki ürünleri desteklemektedir  |</p>

<ul>
<li>E-Fatura</li>
<li>E-Arşiv Fatura</li>
<li>E-İrsaliye</li>
<li>E-Mutabakat</li>
<li>E-Defter</li>
<li>E-Müstahsil Makbuzu</li>
<li>E-Serbest Meslek Makbuzu</li>
<li>E-ZRapor</li>
<li>Faturalama (Kontör, Bakiye, Kullanım vs)</li>
</ul>

<p>Eğer entegrasyona yeni başlıyorsanız <code class="prettyprint">Başlarken</code> başlığı altında ki bilgileri okumanızı tavsiye ederiz.</p>

<h2 id="yard-m-talebi">Yardım Talebi</h2>

<p>Entegrasyon süreci ile ilgili her türlü teknik sorularınızı <strong>entegrasyon@izibiz.com.tr</strong> adresine iletebilirsiniz.</p>

<h2 id="tan-mlar-ve-k-saltmalar">Tanımlar ve Kısaltmalar</h2>

<table><thead>
<tr>
<th>Tanım</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>Başkanlık</td>
<td>T.C. Maliye Bakanlığı Gelir İdaresi Başkanlığı</td>
</tr>
<tr>
<td>GİB</td>
<td>T.C. Maliye Bakanlığı Gelir İdaresi Başkanlığı</td>
</tr>
<tr>
<td>E-Fatura</td>
<td>Elektronik Fatura</td>
</tr>
<tr>
<td>Gönderici Birim</td>
<td>e-Faturanın düzenlenmesinden ve gönderilmesinden sorumlu birim</td>
</tr>
<tr>
<td>Posta Kutusu</td>
<td>Gönderilen e-faturanın alınmasından sorumlu birim</td>
</tr>
<tr>
<td>HTTP</td>
<td>(Hyper Text Transfer Protocol) Hiper Metin Transferi Protokolü</td>
</tr>
<tr>
<td>HTTPS</td>
<td>(Hyper Text Transfer Protocol Secure) Hiper Metin Transferi Protokolü–Güvenli</td>
</tr>
<tr>
<td>Merkez</td>
<td>Gönderici Birim ile Posta Kutusu arasındaki iletişimi sağlayan ve denetleyen birim</td>
</tr>
<tr>
<td>MTOM</td>
<td>(Message Transfer Optimization Method) Mesaj Transferi Optimizasyon Mekanizması. Web servisleri üzerinden verimli bir şekilde ikilik dosya iletimine olanak sağlayan veri iletim yöntemi</td>
</tr>
<tr>
<td>MD5</td>
<td>(Message-Digest Algorithm 5) Veri bütünlüğünü test etmek içinkullanılan, tek yönlü şifreleme algoritması</td>
</tr>
<tr>
<td>Schematron/Şematron</td>
<td>XML belgelerini mantıksal olarak kontrol etmek için kullanılan kural tabanlı doğrulama dili</td>
</tr>
<tr>
<td>Sistem Yanıtı</td>
<td>Fatura veya uygulama yanıtı içeren zarfların durumları ile ilgili olarak birimlerden gönderilen cevap mesajlarıdır.</td>
</tr>
<tr>
<td>SOAP</td>
<td>(Simple Object Access Protocol) Basit Nesne Erişim Protokolü. Dağıtık uygulamalarda ve web servislerinin haberleşmesinde kullanılmak üzere tasarlanan, sunucu/istemci mantığına dayalıiletişim protokolü</td>
</tr>
<tr>
<td>SSL</td>
<td>(Secure Sockets Layer) Bilginin bütünlüğü ve gizliliği için,internet üzerinde iki taraf arasında oluşan trafiğin şifrelenerek, gizliliğinin ve bütünlüğünün korunmasını sa ğlayan bir protokol</td>
</tr>
<tr>
<td>Schema/Şema</td>
<td>XML dosyalarında taşınan verilerin nasıl yorumlanacağının belirtimi</td>
</tr>
<tr>
<td>TCKN</td>
<td>T.C. Kimlik Numarası</td>
</tr>
<tr>
<td>VKN</td>
<td>Vergi Kimlik Numarası</td>
</tr>
<tr>
<td>Veritabanı</td>
<td>Çeşitli kaynaklardan elde edilen verilerin depolandığı veri yapısı</td>
</tr>
<tr>
<td>VPN</td>
<td>(Virtual Private Network) Telekomünikasyon altyapısı kullanılarak güvenli ve özel veri aktarımını sağlayan sanal özel ağ teknolojisi</td>
</tr>
<tr>
<td>W3C</td>
<td>WWW Birliği</td>
</tr>
<tr>
<td>Web Servis</td>
<td>Bilgisayarlar arasında ağ üzerinden etkileşimi ve uyumluluğu sağlayan yazılım sistemi</td>
</tr>
<tr>
<td>WSDL</td>
<td>(Web Services Description Language) Web Servislerinin tanımlandığı, erişim ve işlev bilgilerinin detaylı olarak sunulduğu XML tabanlı metin işaretleme dili</td>
</tr>
<tr>
<td>WS-I</td>
<td>(Web Services Interoperability) Değişik web servis belirtimlerinin birlikte çalışabilmesini sağlayan endüstri konsorsiyumu</td>
</tr>
<tr>
<td>WS-I Basic Profile</td>
<td>SOAP, WSDL, UDDI gibi temel web servis belirtimlerinin birlikte çalışabilmesini sağlayan profil</td>
</tr>
<tr>
<td>XML</td>
<td>(Extensible Markup Language) Verinin tanımlanması ve tarif edilmesi için kullanılan genişletilebilir işaretleme dili</td>
</tr>
<tr>
<td>XSD</td>
<td>(XML Schema Definition) XML belgelerinin uyması gereken kuralların belirlendiği metin işaretleme dili</td>
</tr>
<tr>
<td>XSLT</td>
<td>(Extensible Stylesheet Language Transformations) Genişletilebilir Biçimlendirme Dili Dönüşümleri, XML dokümanlarını dönüştürmek için kullanılan ve orijinal dokümanı değiştirmeden, yeni bir doküman oluşturmaya olanak sağlayan</td>
</tr>
<tr>
<td>UBL</td>
<td>(Universal Business Language) Evrensel İş Dili</td>
</tr>
<tr>
<td>UBL-TR</td>
<td>UBL Türkiye Özelleştirmesi</td>
</tr>
<tr>
<td>Uygulama</td>
<td>Elektronik Fatura Uygulaması</td>
</tr>
<tr>
<td>Uygulama Yanıtı</td>
<td>Ticari fatura senaryosunda alınan bir faturaya ait “KABUL”, “RED” veya “İADE” bilgisini içeren belge türüdür.</td>
</tr>
<tr>
<td>Fatura Tarihi</td>
<td>Faturanın kaynak sistemde düzenleme tarihi</td>
</tr>
<tr>
<td>E-Fatura Numarası</td>
<td>Faturaya Ait E-fatura Numarası</td>
</tr>
<tr>
<td>Sistem Referansı</td>
<td>Kaynak sistemden gelen folyo/çek/fatura referans numarası</td>
</tr>
<tr>
<td>Senaryo</td>
<td>Kullanılan fatura senaryosu (Temel Fatura / Ticari Fatura)</td>
</tr>
<tr>
<td>Fatura Tipi</td>
<td>Fatura Tipi Kodu (Satış / İade)</td>
</tr>
<tr>
<td>Alıcı Ünvan / Ad Soyad</td>
<td>Alıcı cari hesap ünvanı</td>
</tr>
<tr>
<td>TCKN / VKN</td>
<td>Alıcı vergi kimlik numarası</td>
</tr>
<tr>
<td>Fatura Net Tutar</td>
<td>KDV Tutarı / Toplam Tutarı</td>
</tr>
<tr>
<td>GTB</td>
<td>Gümrük ve Ticaret Bakanlığı</td>
</tr>
<tr>
<td>GÇB</td>
<td>Gümrük Çıkış Belgesi</td>
</tr>
<tr>
<td>ZIP</td>
<td>Veri sıkıştırma ve arşivleme formatı</td>
</tr>
</tbody></table>

<h2 id="belge-numaras-y-netimi">Belge Numarası Yönetimi</h2>

<ul>
<li>E-Dönüşüm sisteminde düzenlenen bir belgeyi tanımlayan iki önemli bilgi vardır. Bir tanesi Evrensel Tekil Tanımlama Numarası (ETTN), diğeri ise belge numarasıdır.</li>
<li>ETTN numarası GUID formatında olurken, belge numarası aşağıda açıklanmış formata olması zorunludur.</li>
<li>Belge numarası toplam 16 haneden oluşmak zorundadır.</li>
<li>3 hane alfanumerik seri ön eki  + 4 hane belgenin düzenlendiği yılı + 9 hane müteselsil sıra numarasını ifade etmektedir.  <strong>Örnek: IZI+2018+000000001</strong></li>
<li>Her yıl sıra numarası 1 den başlamak zorundadır.</li>
<li>Ser ön eki (ilk 3 hane) Türkçe karakter içermemeli ve büyük harfler yada sayılardan oluşmalıdr.</li>
<li>İlk 3 Karakter firmalar tarafından serbestçe belirlebilir. Her firma İstediği kadar seri kullanabilir. Her seri kendi içerisinde 1’den başlayarak sıralı devam etmelidir.</li>
<li>E-Fatura, E-İhracat fatura, E-Arşiv normal satış ve E-Arşiv internet üzerinden yapılan satışlar için düzenlenen faturalar  <strong>mutlaka</strong> farklı seriden düzenlenmelidir.</li>
<li>Belge numarası takibi gönderici sistemde yapılmalıdır.</li>
<li>Fatura düzenleyen bünyesinde aynı fatura numarası birden fazla kullanılamaz.</li>
</ul>

<h2 id="belge-g-r-nt-leme">Belge Görüntüleme</h2>

<ul>
<li><p>Bilindiği gibi e-dönüşüm sisteminde düzenlenen ve saklanan belgeler UBL-TR XML formatındadır. Düzenlenmiş her XML belgenin içerisinde görüntüsünü sağlayacak bir şablon (XSLT) dosya bulunmak zorundadır. Şablon belgesinin formatı XSLT (Extensible Stylesheet Language Transformations) Genişletilebilir Biçimlendirme Dili Dönüşümleridir. Bu dosya XML dokümanlarını insanların anlayacağı formata (HTML/PDF) dönüştürmek için kullanılır.</p></li>
<li><p>Belge şablon dosyası XML dosya içerisinde ki <strong>AdditionalDocumentReference</strong> elemanına eklenmek zorundadır.
<img src="/images/xslt_ekleme.png" height="200" width="400"/></p></li>
<li><p>Gelir İdaresi Başkanlığı tarafından mükellefler arasında ki anlaşmazlıklarda kullanabilecekleri ortak bir uygulama olan <strong>E-Belge Görüntüleyici</strong> uygulaması yayınlamıştır. Bu uygulama UBL-TR formatında ki belgenin içerisinde ki şablon ile görüntülemesini sağlar, şema ve şematron kontrolü yapar, belgenin içerisinde ki imzanın geçerliliğini kontrol eder ve belgenin GİB&#39;de ki durumunu kontrol eder.</p></li>
</ul>

<p>Kullandığınız Java Versiyonuna Göre E-Belge Görüntüleyici İndirebilirsiniz:
<a href="http://www.efatura.gov.tr/EFaturaGoruntuleyici/Windows/EFaturaGoruntuleyici.jnlp">E-Belge Görüntüleyici Java 1.6 İndir</a><br>
<a href="http://www.efatura.gov.tr/EFaturaGoruntuleyici/Windows/Java17/EFaturaGoruntuleyici.jnlp">E-Belge Görüntüleyici Java 1.7 İndir</a></p>

<h2 id="belge-g-nderme-kontrolleri">Belge Gönderme Kontrolleri</h2>

<p>Özel entegratör sistemi senkron çalışmaktadır. Yani herhangi bir servise gönderilen istek sunucu tarafından anlık olarak işlenerek sonuç dönülür. Yüklenen belgelerde hatalı durum tespit edilmesi durumunda webservis hata (SOAP Fault) dönülmektedir.</p>

<p>Belge gönderiminde aşağıda ki kontroller yapılmaktadır:</p>

<ul>
<li>Webservis parametre kontrolü</li>
<li>İşlem yapılacak aktif oturum kontrolü</li>
<li>Gönderici firmanın özel entegratör sisteminde ki tanımlama kontrolü</li>
<li>Gönderici ve alıcı firmaların mükellefiyet ve etiket kontrolü</li>
<li>Belgenin UBL-TR şemasına uygunluk kontrolü</li>
<li>Belgenin UBL-TR şematronuna uygunluk kontrolü</li>
<li>Gönderilen belge(lerin) özel entegratör sisteminde tekillik kontrolü</li>
</ul>

<h2 id="belge-olu-turma">Belge Oluşturma</h2>

<p>Özel Entegeratör webservislerine gönderilecek belgelerin (fatura, irsaliye, müstahsil vs) UBL-TR formatında istemci ortamında oluşturulması gerekmektedir. UBL-TR XML belge oluşturmak için <strong>iki yöntem kullanılabilir</strong> :</p>

<aside class="notice">
1. Gelir İdaresi Başkanlığı tarafından yayınlan UBL-TR paketinde bulunan belgelere ait şema (XSD) dosyasında uygulama geliştirme ortamına uygun sınıflar üretilebilir. Üretilen sınıftan obje oluşturarak fieldleri doldurarak belge hazırlanır. Hazırlanan belge webservise parametre olarak gönderilebiir.
</aside>

<ul>
<li><p>Güncel <a href="http://www.efatura.gov.tr/dosyalar/kilavuzlar/UBL-TR1.2.1_Paketi.zip">GİB UBL-TR Paketi</a> indirilip yerel C: disizine çıkarılır (unzip/extract).</p></li>
<li><p>Eğer <strong>Visual Studio 2015 öncesi</strong> yüklü olan bir bilgisayar kullanılıyorsa <strong>V(StudioVersiyonu) Command Prompt</strong> komutu çalıştırılır. Örneğin Visual studio 2013 kurulu bir bilgisayarda <strong>V2013 Command Prompt</strong> şeklinde çalıştırılır.</p></li>
<li><p>Eğer <strong>Visual Studio 2015 ve sonrası</strong> yüklü olan bir bilgisayar kullanılıyorsa <strong>Developer Command Prompt</strong> komut çalıştırılır.</p></li>
<li><p>Açılan komut satırında UBL-TR paketinin unzip edildiği dizinde bulunan <strong>maindoc</strong> klasörüne geçiş yapılır. <br> <strong>Örneğin:</strong> cd %UNZIP_EDILEN_KLASOR%\UBLTR_1.2.1_Paketi\xsdrt\maindoc\</p></li>
<li><p>Sınıfı oluşturulacak belge türüne uygun komut aşağıda ki listeye göre çalıştırılır.</p></li>
</ul>

<table><thead>
<tr>
<th>Belge Tipi</th>
<th>Çalıştırılacak Komut</th>
<th>Oluşacak Sınıf</th>
<th>Belge Tipi</th>
</tr>
</thead><tbody>
<tr>
<td>E-Fatura / E-Arşiv Fatura</td>
<td>xsd /c UBL-Invoice-2.1.xsd ../common/UBL-CommonExtensionComponents-2.1.xsd ../common/UBL-CommonBasicComponents-2.1.xsd ../common/UBL-UnqualifiedDataTypes-2.1.xsd ../common/UBL-CoreComponentParameters-2.1.xsd ../common/CCTS_CCT_SchemaModule-2.1.xsd ../common/UBL-CommonAggregateComponents-2.1.xsd</td>
<td>UBL-Invoice-2.1.cs</td>
<td>InvoiceType</td>
</tr>
<tr>
<td>E-İrsaliye</td>
<td>xsd /c UBL-DespatchAdvice-2.1.xsd ../common/UBL-CommonExtensionComponents-2.1.xsd ../common/UBL-CommonBasicComponents-2.1.xsd ../common/UBL-UnqualifiedDataTypes-2.1.xsd ../common/UBL-CoreComponentParameters-2.1.xsd ../common/CCTS_CCT_SchemaModule-2.1.xsd ../common/UBL-CommonAggregateComponents-2.1.xsd</td>
<td>UBL-DespatchAdvice-2.1.cs</td>
<td>DespatchAdviceType</td>
</tr>
<tr>
<td>E-İrsaliye Yanıtı</td>
<td>xsd /c UBL-ReceiptAdvice-2.1.xsd ../common/UBL-CommonExtensionComponents-2.1.xsd ../common/UBL-CommonBasicComponents-2.1.xsd ../common/UBL-UnqualifiedDataTypes-2.1.xsd ../common/UBL-CoreComponentParameters-2.1.xsd ../common/CCTS_CCT_SchemaModule-2.1.xsd ../common/UBL-CommonAggregateComponents-2.1.xsd</td>
<td>UBL-ReceiptAdvice-2.1.cs</td>
<td>ReceiptAdviceType</td>
</tr>
<tr>
<td>Müstahsil Makbuzu</td>
<td>xsd /c UBL-CreditNote-2.1.xsd ../common/UBL-CommonExtensionComponents-2.1.xsd ../common/UBL-CommonBasicComponents-2.1.xsd ../common/UBL-UnqualifiedDataTypes-2.1.xsd ../common/UBL-CoreComponentParameters-2.1.xsd ../common/CCTS_CCT_SchemaModule-2.1.xsd ../common/UBL-CommonAggregateComponents-2.1.xsd</td>
<td>UBL-CreditNote-2.1.cs</td>
<td>CreditNoteType</td>
</tr>
</tbody></table>

<p><br>
<aside class="notice">
2. Diğer bir yöntem ise String Replacement yöntemidir. Belgelere ait değişecek alanların belirlendiği bir şablon oluşturulur. Belge düzenlenirken ilgili alanlar güncellenir. Oluşan belge webservice parametre olarak gönderilir.
</aside></p>

<h2 id="webservice-endpoint-wsdl-url">Webservice Endpoint (WSDL) URL</h2>

<table><thead>
<tr>
<th>Ürün</th>
<th>Endpoint URL</th>
</tr>
</thead><tbody>
<tr>
<td>Kimlik Doğrulama</td>
<td><a href="https://efaturatest.izibiz.com.tr/AuthenticationWS?wsdl">https://efaturatest.izibiz.com.tr/AuthenticationWS?wsdl</a></td>
</tr>
<tr>
<td>E-Fatura Webservis</td>
<td><a href="https://efaturatest.izibiz.com.tr/EFaturaOIB?wsdl">https://efaturatest.izibiz.com.tr/EFaturaOIB?wsdl</a></td>
</tr>
<tr>
<td>E-Arşiv Fatura Webservis</td>
<td><a href="https://efaturatest.izibiz.com.tr/EIArchiveWS/EFaturaArchive?wsdl">https://efaturatest.izibiz.com.tr/EIArchiveWS/EFaturaArchive?wsdl</a></td>
</tr>
<tr>
<td>E-İrsaliye Webservis</td>
<td><a href="https://efaturatest.izibiz.com.tr/EIrsaliyeWS/EIrsaliye?wsdl">https://efaturatest.izibiz.com.tr/EIrsaliyeWS/EIrsaliye?wsdl</a></td>
</tr>
<tr>
<td>E-Müstahsil Webservis</td>
<td><a href="http://efaturatest.izibiz.com.tr/CreditNoteWS/CreditNote?wsdl">http://efaturatest.izibiz.com.tr/CreditNoteWS/CreditNote?wsdl</a></td>
</tr>
<tr>
<td>E-Mutabakat Webservis</td>
<td><a href="http://efaturatest.izibiz.com.tr/Reconciliation?wsdl">http://efaturatest.izibiz.com.tr/Reconciliation?wsdl</a></td>
</tr>
<tr>
<td>E-Serbest Meslek Webservis</td>
<td><a href="https://efaturatest.izibiz.com.tr/SmmWS?wsdl">https://efaturatest.izibiz.com.tr/SmmWS?wsdl</a></td>
</tr>
<tr>
<td>E-ZRapor Webservis</td>
<td><a href="https://efaturatest.izibiz.com.tr/ZReportWS?wsdl">https://efaturatest.izibiz.com.tr/ZReportWS?wsdl</a></td>
</tr>
<tr>
<td>Faturalama Webservis</td>
<td><a href="https://efaturatest.izibiz.com.tr/BillingWS?wsdl">https://efaturatest.izibiz.com.tr/BillingWS?wsdl</a></td>
</tr>
</tbody></table>

<h3 id="portal-uygulamas">Portal Uygulaması</h3>

<p>Entegrasyon sürecinde Portal uygulamamızı aşağıda ki durumlar için kullanabilirsiniz:</p>

<ul>
<li>Belgelerin durumunu kontrol</li>
<li>Farklı senaryolar için belge düzenleyerek XML içeriğini kontrol</li>
<li>Alıcı firmanın mükellefiyet sorgulaması</li>
</ul>

<p>Test Portal Adresimiz: <a href="https://portaltest.izibiz.com.tr">https://portaltest.izibiz.com.tr</a></p>

<p>Test portali erişim bilgileri için <strong>entegrasyon@izibiz.com.tr</strong> adresi ile iletişime geçebilirsiniz.</p>

          <h1 id="e-fatura-metodlar">E-Fatura Metodları</h1>

<p>e-Fatura servisi, e-fatura mükellefinin fatura gönderimini ve gelen faturaları kendisi sistemine çekmesini sağlayan webservis uygulamasının clientıdır.</p>

<ul>
<li>Şu metodları içerir.</li>
<li>SendInvoice</li>
<li>SendEInvoice</li>
<li>LoadInvoice</li>
<li>GetInvoice</li>
<li>GetUserList</li>
<li>CheckUser</li>
<li>MarkInvoice</li>
<li>GetInvoiceStatus</li>
<li>SendInvoiceResp</li>
<li>GetUserListBinary</li>
<li>GetAllUserListBinary</li>
</ul>

<h2 id="dikkat-edilecek-hususlar-e-fatura">Dikkat Edilecek Hususlar(E-Fatura)</h2>

<ol>
<li><strong>Kimlik Doğrulama (Authentication)</strong> Webservisinde bulunan <strong>Login</strong> servisi ile oturum açarak session id alınacak. Session Id sistemimiz tarafında 8 saate kadar zaman aşımına uğramadığı için kullanıcı giriş yapınca session id alıp bütün kullanım süresinde aynı session id kullanabilirsiniz.</li>
<li>E-Fatura Mükellefi olan firmalara kesilen faturaları UBL-TR formatına dönüştürerek (ekte örnek fatura bulunuyor) İzibiz sunucularına gönderebilirsiniz. Her fatura içerisinde faturanın görüntülenmesini sağlayan XSLT dokümanı olmalıdır.</li>
<li><strong>SendInvoice</strong> metodu ile fatura gönderimi yapılacak. Gönderim esnasında eğer faturanın alıcısına ait birden fazla Posta Kutusu bulunuyorsa ekranda seçilerek gönderilmesi sağlanmalı. Sadece 1 adet PK adresi varsa seçim yapılmadan gönderim sağlanabilir.</li>
<li><strong>GetInvoiceStatus</strong> metodu ile gelen/giden faturaların durumları sorgulanacak. Nihai duruma erişene kadar faturanın durumu özel entegratör sisteminden minumum 4 saatte bir sorgulanmalıdır. <strong>Sık sorgulama yapmayınız.</strong></li>
<li><strong>GetInvoice</strong> metodu ile firmaya gelen faturalar müşteri bilgisayarına aktarılır. İzibiz sistemlerine gelen yeni faturaları almanız gerekmektedir. Servis ile yeni gelen en fazla 100 adet faturayı çekebilirsiniz. Eğer dönen listede 100 adet fatura varsa yeniden getinvoice servisi çağırılarak başka fatura olup olmadığı kontrol edilmelidir. Dönen listede 100den az fatura varsa tekrar sorgulama yapmaya gerek yoktur. Fatura çekme zamanlayıcı ile yapılıyorsa en az 15 dk bir servis çağırılmalıdır.</li>
<li><strong>MarkInvoice</strong> metodu ile başarılı şekilde teslim alınan faturalar izibiz sistemlerinde okundu olarak işaretlenir. Böylece bir sonra ki getinvoice servisi çağrılınca dönülmez.</li>
<li>Gelen bir faturaya 8 gün içerisinde kabul veya red gönderilebilir. <strong>8 günü geçtikten sonra kabul/red yapılması engellenmelidir. Temel faturalar için yanıt gönderilmesi kısıtlanmalıdır.</strong></li>
<li>Ticari bir faturaya elektronik ortamda en fazla 1 adet yanıt gönderilebilir. Bundan dolayı bir faturaya başarıyla yanıt (kabul/red) gönderilmişse farklı bir yanıt gönderilmesi kısıtlanmalıdır.</li>
<li><strong>Kimlik Doğrulama (Authentication)</strong> Webservisinde bulunan <strong>Logout</strong> metodu ile kullanıcı e-fatura programını kapatınca veya sizin belirlediğiniz bir sürede oturumu kapatabilirsiniz.</li>
</ol>

<h2 id="fatura-g-nderme-sendinvoice">Fatura Gönderme(SendInvoice)</h2>

<ul>
<li>Fatura Entegrasyon Platformu üzerinden faturayı GIB (Gelir İdaresi Başkanlığı) EFATURA sistemine gönderir.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>SENDER_VKN</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Göndericinin VKNsi.</td>
</tr>
<tr>
<td><strong>SENDER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Göndericinin ünvanı.</td>
</tr>
<tr>
<td><strong>RECEIVER_VKN</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Alıcının VKNsi.</td>
</tr>
<tr>
<td><strong>RECEIVER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Alıcının ünvanı.</td>
</tr>
<tr>
<td><strong>INVOICE_CONTENT</strong></td>
<td>Base64Binary</td>
<td><strong>Evet</strong></td>
<td>Belgenin Base64Binary olarak encode edilmiş içeriği.</td>
</tr>
<tr>
<td><strong>COMPRESSED</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Binary Fatura içeriği sıkıştırılmış/sıkıştırılmamış bilgisi. Varsayılan değer Y olduğu için gönderilmediği durumda fatura sıkıştırılarak/ziplenerek gönderilmesi beklenmektedir. <strong>Faturayı XML olarak göndermek için mutlaka eleman eklenmeli ve N değeri gönderilmelidir.</strong></td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="fatura-g-nderme-sendeinvoice">Fatura Gönderme(SendEInvoice)</h2>

<ul>
<li>Fatura Entegrasyon Platformu üzerinden faturayı GIB (Gelir İdaresi Başkanlığı) EFATURA sistemine gönderir.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>SENDER_VKN</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Göndericinin VKNsi.</td>
</tr>
<tr>
<td><strong>SENDER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Göndericinin ünvanı.</td>
</tr>
<tr>
<td><strong>RECEIVER_VKN</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Alıcının VKNsi.</td>
</tr>
<tr>
<td><strong>RECEIVER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Alıcının ünvanı.</td>
</tr>
<tr>
<td><strong>RECEIVER_EMAIL</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Alıcının e-posta adresi. <strong>Format: invoice@firma.com.tr</strong></td>
</tr>
<tr>
<td><strong>INVOICE_TYPE</strong></td>
<td>Enum</td>
<td><strong>Evet</strong></td>
<td>E-Faturanın tipi. <code class="prettyprint">INTERNET</code> veya <code class="prettyprint">NORMAL</code> girilir.</td>
</tr>
<tr>
<td><strong>INVOICE_CONTENT</strong></td>
<td>Base64Binary</td>
<td><strong>Evet</strong></td>
<td>Belgenin Base64Binary olarak encode edilmiş içeriği.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="taslak-fatura-y-kleme-loadinvoice">Taslak Fatura Yükleme (LoadInvoice)</h2>

<ul>
<li>Fatura Entegrasyon Platformu üzerinden 1 yada daha fazla faturayı E-Fatura sistemine yükler.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>INVOICE_CONTENT</strong></td>
<td>Base64Binary</td>
<td><strong>Evet</strong></td>
<td>Belgenin Base64Binary olarak encode edilmiş içeriği.</td>
</tr>
<tr>
<td><strong>INVOICE_FORMAT</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td></td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="e-fatura-okuma-getinvoice">E-Fatura Okuma (GetInvoice)</h2>

<ul>
<li>E-Fatura sisteminden giden imzalı faturaları veya gelen faturaları muhasebe paketine çekmek için kullanılır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>DIRECTION</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Belge yönü. Gelen veya Giden faturaları çekmek için kullanılabilir. Gelen faturaları çekmek için <code class="prettyprint">IN</code>, giden faturaları çekmek için <code class="prettyprint">OUT</code> değeri gönderilebilir. Varsayılan değer <code class="prettyprint">IN</code> olduğu için eğer parametre gönderilmezse sadece gelen faturalar dönülecektir. <strong>Gönderilebilecek değerler: <code class="prettyprint">IN</code>, <code class="prettyprint">OUT</code></strong></td>
</tr>
<tr>
<td><strong>LIMIT</strong></td>
<td>Integer</td>
<td><strong>Hayır</strong></td>
<td>Kaç fatura okunmak istendiği. Eğer eleman gönderilmezse 10 adet fatura, fatura içerikleri (XML) ile beraber en fazla 100 adet fatura, sadece fatura başlıklarını çekildiğindeise en fazla 25.000 adet fatura dönülür.</td>
</tr>
<tr>
<td><strong>SENDER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Faturayı gönderen firma ünvanı.</td>
</tr>
<tr>
<td><strong>RECEIVER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Faturayı alan firma ünvanı.</td>
</tr>
<tr>
<td><strong>INVOICE_UUID</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Evrensel Tekil Tanımlama Numarası (ETTN) ile fatura okumak için kullanılabilir.</td>
</tr>
<tr>
<td><strong>START_DATE</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Belirli tarih aralığında fatura çekmek istendiğinde dönem başlangıç tarihi <strong>Format: 2019-01-01</strong></td>
</tr>
<tr>
<td><strong>END_DATE</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Belirli tarih aralığında fatura çekmek istendiğinde dönem bitiş tarihi <strong>Format: 2019-12-31</strong></td>
</tr>
<tr>
<td><strong>HEADER_ONLY</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Fatura içerik ile beraber mi yoksa sadece özet bilgisi mi okunmak istenildiğini belirler. Eleman <strong>gönderilmezse</strong> veya <code class="prettyprint">N</code> değeri gönderilirse faturalar XML ile beraber dönülür. <code class="prettyprint">Y</code> değeri gönderilirse faturaların özeti dönülür. <strong>Değerler: Y/N</strong></td>
</tr>
<tr>
<td><strong>READ_INCLUDED</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Fatura okurken daha önce okunmuş faturaları dönüşe dahil edilip edilmeyeceğini belirler. <code class="prettyprint">true</code> değeri gönderilirse fatura daha önce okunmuş olsa bile yanıta eklenir. Gönderilmezse veya <code class="prettyprint">false</code> gönderilirse sadece yeni gelen faturalar dönülür. <strong>Değerler: <code class="prettyprint">true</code>/<code class="prettyprint">false</code></strong></td>
</tr>
<tr>
<td><strong>COMPRESSED</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Binary Fatura içeriği sıkıştırılmış/sıkıştırılmamış bilgisi. Varsayılan değer Y olduğu için gönderilmediği durumda fatura sıkıştırılarak/ziplenerek gönderilmesi beklenmektedir. <strong>Faturayı XML olarak göndermek için mutlaka eleman eklenmeli ve N değeri gönderilmelidir.</strong></td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>INVOICE</strong></td>
<td>Complex</td>
<td>Sorgu kriterine uyan fatura(lar)ın listesi. Fatura numarası <code class="prettyprint">ID</code>, fatura evrensel tekil tanımlama numarası  <code class="prettyprint">UUID</code> ve e-fatura sisteminde tanımlı tekil numara değeri  <code class="prettyprint">LIST_ID</code> attribute içerisinde dönülmektedir.</td>
</tr>
<tr>
<td><strong>INVOICE.HEADER</strong></td>
<td>Complex</td>
<td>Faturaya ait özet bilgiler içermektedir.</td>
</tr>
<tr>
<td><strong>HEADER.SENDER</strong></td>
<td>String</td>
<td>Faturayı gönderen firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>HEADER.RECEIVER</strong></td>
<td>String</td>
<td>Faturayı alan firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>HEADER.SUPPLIER</strong></td>
<td>String</td>
<td>Faturayı gönderen firma ünvanı.</td>
</tr>
<tr>
<td><strong>HEADER.CUSTOMER</strong></td>
<td>String</td>
<td>Faturayı alan firma ünvanı.</td>
</tr>
<tr>
<td><strong>HEADER.ISSUE_DATE</strong></td>
<td>String</td>
<td>Fatura tarihi.</td>
</tr>
<tr>
<td><strong>HEADER.PAYABLE_AMOUNT</strong></td>
<td>String</td>
<td>Toplam ödenecek tutar.</td>
</tr>
<tr>
<td><strong>HEADER.FROM</strong></td>
<td>String</td>
<td>Faturayı gönderen Gönderici Birim (GB)</td>
</tr>
<tr>
<td><strong>HEADER.TO</strong></td>
<td>String</td>
<td>Faturanın geldiği Posta Kutusu (PK)</td>
</tr>
<tr>
<td><strong>HEADER.PROFILEID</strong></td>
<td>String</td>
<td>Faturanın senaryosu. TEMELFATURA, TICARIFATURA,IHRACATFATURA, YOLCUBERABER değerleri olabilir.</td>
</tr>
<tr>
<td><strong>HEADER.INVOICE_TYPE_CODE</strong></td>
<td>String</td>
<td>Faturanın tipi. SATIS, IADE, ISTISNA, IHRACAT, OZELMATRAH, TEVKIFAT, IHRACKAYITLI değerleri olabilir.</td>
</tr>
<tr>
<td><strong>HEADER.STATUS</strong></td>
<td>String</td>
<td>Faturanın durumu. Detay için Fatura durum sorgulama ekranında bulunan <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Fatura durum açıklaması. Detay için Fatura durum sorgulama ekranında bulunan <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.GIB_STATUS_CODE</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durum kodu. Detay için Fatura durum sorgulama ekranında bulunan <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.GIB_STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durumunun kodunun açıklaması. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.RESPONSE_CODE</strong></td>
<td>String</td>
<td>Ticari fatura için verilen yanıtı içeren zarfın durum kodu</td>
</tr>
<tr>
<td><strong>HEADER.RESPONSE_DESC</strong></td>
<td>String</td>
<td>Ticari fatura için verilen yanıtı içeren zarfın durum açıklaması</td>
</tr>
<tr>
<td><strong>HEADER.CDATE</strong></td>
<td>String</td>
<td>Faturanın sistemimize ulaştığı tarih</td>
</tr>
<tr>
<td><strong>HEADER.ENVELOPE_IDENTIFIER</strong></td>
<td>String</td>
<td>Faturanın zarf IDsi.</td>
</tr>
<tr>
<td><strong>INVOICE.CONTENT</strong></td>
<td>String</td>
<td>Faturanın içeriği. Eğer <code class="prettyprint">COMPRESSED</code> elemanı <code class="prettyprint">N</code> olarak gönderilmişse XML dosya, <code class="prettyprint">COMPRESSED</code> elemanı gönderilmemiş veya <code class="prettyprint">Y</code> değeri gönderilmişse sıkıştırılmış/ziplenmiş XML dosyası dönülür.</td>
</tr>
</tbody></table>

<h2 id="m-kellef-listesi-ekme-getuserlist">Mükellef Listesi Çekme(GetUserList)</h2>

<ul>
<li>Kayıt zamanı kullanılarak mükellef listesi çekiminde kullanılır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>REGISTER_TIME_START</strong></td>
<td>DateFormat</td>
<td><strong>Evet</strong></td>
<td>Kayıt başlangıç tarihini belirtir. <strong>Format: 2019-12-31T23:59:59</strong></td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>USER</strong></td>
<td>Complex</td>
<td>Kullanıcı bilgilerini içeren yapı.</td>
</tr>
<tr>
<td><strong>USER.IDENTIFIER</strong></td>
<td>String</td>
<td>Kullanıcının tanımlayıcı numarası.</td>
</tr>
<tr>
<td><strong>USER.ALIAS</strong></td>
<td>String</td>
<td><strong>Format: urn:mail:defaultpk@firma.com.tr</strong></td>
</tr>
<tr>
<td><strong>USER.TITLE</strong></td>
<td>String</td>
<td>Firmanın Ünvanı</td>
</tr>
<tr>
<td><strong>USER.TYPE</strong></td>
<td>String</td>
<td>Kullanıcı tipi</td>
</tr>
<tr>
<td><strong>USER.REGISTER_TIME</strong></td>
<td>DateFormat</td>
<td>Kullanıcı kayıt zamanı. <strong>Format: 2019-12-31T23:59:59</strong></td>
</tr>
<tr>
<td><strong>USER.UNIT</strong></td>
<td>String</td>
<td>Unite değeri.</td>
</tr>
<tr>
<td><strong>USER.ALIAS_CREATION_TIME</strong></td>
<td>DateFormat</td>
<td>Kullanıcı <code class="prettyprint">ALIAS</code> üretilme zamanı. <strong>Format: 2019-12-31T23:59:59</strong></td>
</tr>
</tbody></table>

<h2 id="m-kellef-kontrol-checkuser">Mükellef Kontrol(CheckUser)</h2>

<ul>
<li>Mükellef VKN veya TCKN yada ismi kullanarak mükellef çekiminde ve kontrolünde kullanılır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>IDENTIFIER_VKN_TCKN</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Firmanın VKN veya TCKN si.</td>
</tr>
<tr>
<td><strong>TITLE</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Firmanın ismi.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>USER</strong></td>
<td>Complex</td>
<td>Kullanıcı bilgilerini içeren yapı.</td>
</tr>
<tr>
<td><strong>USER.IDENTIFIER</strong></td>
<td>String</td>
<td>Kullanıcının tanımlayıcı numarası.</td>
</tr>
<tr>
<td><strong>USER.ALIAS</strong></td>
<td>String</td>
<td><strong>Format: urn:mail:defaultpk@firma.com.tr</strong></td>
</tr>
<tr>
<td><strong>USER.TITLE</strong></td>
<td>String</td>
<td>Firmanın İsmi</td>
</tr>
<tr>
<td><strong>USER.TYPE</strong></td>
<td>String</td>
<td>Kullanıcı tipi</td>
</tr>
<tr>
<td><strong>USER.REGISTER_TIME</strong></td>
<td>DateFormat</td>
<td>Kullanıcı kayıt zamanı. <strong>Format: 2019-12-31T23:59:59</strong></td>
</tr>
<tr>
<td><strong>USER.UNIT</strong></td>
<td>String</td>
<td>Unite değeri.</td>
</tr>
<tr>
<td><strong>USER.ALIAS_CREATION_TIME</strong></td>
<td>DateFormat</td>
<td>Kullanıcı <code class="prettyprint">ALIAS</code> üretilme zamanı. <strong>Format: 2019-12-31T23:59:59</strong></td>
</tr>
</tbody></table>

<h2 id="fatura-okundu-aretleme-markinvoice">Fatura Okundu İşaretleme (MarkInvoice)</h2>

<ul>
<li>E-Fatura sisteminde faturayı alındı/alınmadı olarak işaretlemek için geliştirilmiş servistir.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>INVOICE_UUID</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Evrensel Tekil Tanımlama Numarası (ETTN) ile okumak için kullanılır.</td>
</tr>
<tr>
<td><strong>ACTION</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Başarı ile alındıysa <code class="prettyprint">READ</code> gönderilmeli. Daha önce alındı olarak işaretlenen bir faturayı tekrar çekmeden önce <code class="prettyprint">UNREAD</code> olarak gönderilebilir.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="fatura-durum-sorgulama-getinvoicestatus">Fatura Durum Sorgulama (GetInvoiceStatus)</h2>

<ul>
<li>E-Fatura sisteminde bulunan taslak, gelen ve giden faturaların durumunu sorgulamayı sağlayan servistir.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>INVOICE_UUID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Evrensel Tekil Tanımlama Numarası (ETTN) ile fatura okumak için kullanılabilir.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>INVOICE_STATUS</strong></td>
<td>ComplexType</td>
<td>Sorgu kriterine uyan fatura(lar)ın listesi. Fatura numarası <code class="prettyprint">ID</code>, fatura evrensel tekil tanımlama numarası  <code class="prettyprint">UUID</code> attribute içerisinde dönülmektedir.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.STATUS</strong></td>
<td>String</td>
<td>Faturanın e-fatura sisteminde ki durumu. Detay için <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Fatura durum açıklaması. Detay için <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.GIB_STATUS_CODE</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durum kodu. Faturanın GİB&#39;de ki durumu e-fatura sistemi tarafından henüz sorgulanmadıysa eleman dönülmez. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.GIB_STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durumunun kodunun açıklaması. Faturanın GİB&#39;de ki durumu e-fatura sistemi tarafından henüz sorgulanmadıysa eleman dönülmez. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.CDATE</strong></td>
<td>String</td>
<td>Faturanın e-fatura sistemine yüklendiği/ulaştığı tarih</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.ENVELOPE_IDENTIFIER</strong></td>
<td>String</td>
<td>Faturanın zarf IDsi. Taslak faturalar için eleman dönülmez.</td>
</tr>
</tbody></table>

<h2 id="m-kellef-listesi-ekme-getuserlistbinary">Mükellef Listesi Çekme(GetUserListBinary)</h2>

<ul>
<li>Mükellef Listesini Çekmek için kullanılır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>TYPE</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Belgenin hangi türde geleceği.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>CONTENT</strong></td>
<td>Base64Binary</td>
<td>Belgenin Base64Binary olarak encode edilmiş içeriği dönecektir.</td>
</tr>
</tbody></table>

<h2 id="t-m-m-kelleflerin-listesini-ekme-getalluserlistbinary">Tüm Mükelleflerin Listesini Çekme(GetAllUserListBinary)</h2>

<ul>
<li>Tüm Mükellef Listesini Çekmek için kullanılır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>TYPE</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Belgenin hangi türde geleceği.</td>
</tr>
<tr>
<td><strong>DOCUMENT_TYPE</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Dökümanın tipi.</td>
</tr>
<tr>
<td><strong>REGISTER_TIME_START</strong></td>
<td>GregorianCalendar</td>
<td><strong>Hayır</strong></td>
<td>Tarih bilgisi girilir. <strong>Format: 2018-01-01</strong></td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>CONTENT</strong></td>
<td>Base64Binary</td>
<td>Belgenin Base64Binary olarak encode edilmiş içeriği dönecektir.</td>
</tr>
</tbody></table>

          <h1 id="e-ar-iv-fatura-metodlar">E-Arşiv Fatura Metodları</h1>

<p>E-Fatura mükellefi olmayan firma veya nihai tüketiciye düzenlenen faturaların özel entegratör sistemine gönderilmesi ve raporlamasını sağlayan webservis uygulamasının clientıdır.</p>

<ul>
<li>Aşağıdaki metodlari içerir.</li>
<li>SendEArchiveInvoice</li>
<li>CancelEArchiveInvoice</li>
<li>ReadFromArchive</li>
<li>GetEArchiveReport</li>
<li>GetEArchiveInvoiceStatus</li>
</ul>

<h2 id="dikkat-edilecek-hususlar-e-ar-iv-fatura">Dikkat Edilecek Hususlar(E-Arşiv Fatura)</h2>

<ul>
<li><strong>Kimlik Doğrulama (Authentication)</strong> Webservisinde bulunan <strong>Login</strong> servisi ile giriş yaparak session id alınacak. Session Id sistemimiz tarafında 8 saate kadar zaman aşımına uğramadığı için kullanıcı giriş yapınca session id alıp bütün kullanım süresinde aynı session id kullanabilirsiniz.</li>
<li><strong>ReadFromArchive</strong> servisi ile fatura istenilen formatta (XML, PDF, HTML) okunabilir.</li>
<li><strong>CancelEArchiveInvoice</strong> servisi ile hata tespiti veya müşterinin malı iade etmesi sebebi ile iptal edilen faturaları GIBe bildirilmek üzere gönderilir.</li>
<li><strong>GetEArchiveInvoiceStatus</strong> servisi ile özel entegratör sistemine yüklemiş e-Arşiv faturasanın durumu, e-posta durumu ve raporlanma durumunu sorgulayabilirsiniz.</li>
<li>E-Fatura ve E-Arşiv faturaları farklı seri ile düzenlenmelidir.</li>
<li>İnternet üzerinden yapılan satışlar için düzenlenen E-Arşiv faturaları ile diğer satışlardan (E-Fatura veya E-Arşiv) farklı serilerden düzenlenmesi zorunludur.</li>
<li>UBL-TR olarak hazırlanan E-Arşiv faturaların ProfileId alanı <code class="prettyprint">EARSIVFATURA</code> olarak yazılmalıdır. Bu alan eğer sizin tarafınızda farklı bir değer belirtilmiş ise sistem bu alan otomatik olarak “EARSIVFATURA” yazacaktır.</li>
<li>E-Arşiv faturalarda faturanın düzenlenme zamanı(IssueTime) zorunludur.</li>
<li>E-Arşiv faturalarda AdditionalDocumentReference alanında DocumentTypeCode ve DocumentType alanları zorunlu alandır.</li>
<li>İnternet üzerinden yapılan satış için düzenlenen faturalar için Ödeme Şekli (PaymentMeans) ve Kargo bilgileri (Delivery) zorunludur.</li>
</ul>

<h2 id="e-ar-iv-fatura-g-nderme-sendearchiveinvoice">E-Arşiv Fatura Gönderme (SendEArchiveInvoice)</h2>

<ul>
<li>E-Arşiv Fatura belgesini özel entegratör sistemlerine gönderilmesini sağlayan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>EARSIV_EMAIL_FLAG</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Belge alıcısına e-posta olarak gönderilip gönderilmeyeceğinin belirlendiği parametredir. E-Posta göndermek istenilen durumda <code class="prettyprint">Y</code> değeri gönderilmelidir.</td>
</tr>
<tr>
<td><strong>EARSIV_EMAIL</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Belgenin e-posta olarak iletileceği e-posta adresi. E-Posta formatında olmak zorundadır. <code class="prettyprint">EARSIV_EMAIL_FLAG</code> parametresi <code class="prettyprint">N</code> verilirse, değer verilse bile dikkate alınmaz. <strong>Format: archive@firma.com.tr</strong></td>
</tr>
<tr>
<td><strong>EARSIV_TYPE</strong></td>
<td>Enum</td>
<td><strong>Evet</strong></td>
<td>E-Arşiv Faturanın tipi. <code class="prettyprint">INTERNET</code> veya <code class="prettyprint">NORMAL</code> girilir.</td>
</tr>
<tr>
<td><strong>CONTENT</strong></td>
<td>Base64Binary</td>
<td><strong>Evet</strong></td>
<td>Belgenin Base64Binary olarak encode edilmiş içeriği.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="e-ar-iv-fatura-ptal-cancelearchiveinvoice">E-Arşiv Fatura İptal (CancelEArchiveInvoice)</h2>

<ul>
<li>Mevcut E-Arşiv Fatura belgesinin iptalini sağlayan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>INVOICE_UUID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Evrensel Tekil Tanımlama Numarası (ETTN) ile okumak için kullanılır.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="e-ar-iv-fatura-okuma-readfromarchive">E-Arşiv Fatura Okuma (ReadFromArchive)</h2>

<ul>
<li>E-Arşiv Fatura içeriğinin fatura UUID ve içerik tipi kullanılarak çekilmesini sağlar.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>INVOICE_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Evrensel Tekil Tanımlama Numarası (ETTN) ile okumak için kullanılır.</td>
</tr>
<tr>
<td><strong>DOCUMENT_TYPE</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>E-Arşiv Fatura içeriğinin nasıl yollanacağını belirler. <code class="prettyprint">XML</code>, <code class="prettyprint">HTML</code> ve <code class="prettyprint">PDF</code> olabilir.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>CONTENT</strong></td>
<td>Base64Binary</td>
<td>Belgenin Base64Binary formatında gelen içeriği.</td>
</tr>
</tbody></table>

<h2 id="e-ar-iv-rapor-listesini-ekme-getearchivereport">E-Arşiv Rapor Listesini Çekme (GetEArchiveReport)</h2>

<ul>
<li>E-Arşiv Fatura raporların dönem bilgisi kullanılarak çekilmesini sağlar.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>RAPOR_DONEMI</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Rapor listesinin alınmak istenilen dönem bilgisi. <strong>Format: 201805</strong></td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REPORT</strong></td>
<td>Complex</td>
<td>Dönem için oluşturulan raporların listesi.</td>
</tr>
<tr>
<td><strong>REPORT.REPORT_NO</strong></td>
<td>String</td>
<td>Raporun numarası GUID formatında.</td>
</tr>
<tr>
<td><strong>REPORT.STATUS</strong></td>
<td>String</td>
<td>Raporun durumu. İşlenmiş rapor durumu <code class="prettyprint">SUCCEED</code> olur.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="e-ar-iv-fatura-durum-sorgulama-getearchiveinvoicestatus">E-Arşiv Fatura Durum Sorgulama (GetEArchiveInvoiceStatus)</h2>

<ul>
<li>Özel entegratör platformundan E-Arşiv Fatura belgelerinin durumunu okumayı sağlayan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>UUID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Evrensel Tekil Tanımlama Numarası (ETTN) ile okumak için kullanılır.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>INVOICE.HEADER</strong></td>
<td>ComplexType</td>
<td>Kritere uyan faturaların durumlarınını içeren objedir.</td>
</tr>
<tr>
<td><strong>HEADER.INVOICE_ID</strong></td>
<td>String</td>
<td>Fatura numarası</td>
</tr>
<tr>
<td><strong>HEADER.UUID</strong></td>
<td>String</td>
<td>Faturanın Evrensel Tekil Tanımlama Numarası (ETTN)</td>
</tr>
<tr>
<td><strong>HEADER.PROFILE</strong></td>
<td>String</td>
<td>Faturanın senaryosu (<code class="prettyprint">EARSIVFATURA</code>)</td>
</tr>
<tr>
<td><strong>HEADER.INVOICE_DATE</strong></td>
<td>String</td>
<td>Fatura tarihi</td>
</tr>
<tr>
<td><strong>HEADER.STATUS</strong></td>
<td>String</td>
<td>Fatura durumu kodu. <strong>Lütfen E-Arşiv Durum başlığını inceleyiniz.</strong></td>
</tr>
<tr>
<td><strong>HEADER.STATUS_DESC</strong></td>
<td>String</td>
<td>Faturanın durum açıklaması <strong>Lütfen E-Arşiv Durum başlığını inceleyiniz.</strong></td>
</tr>
<tr>
<td><strong>HEADER.EMAIL_STATUS</strong></td>
<td>String</td>
<td>E-Posta gönderim durum kodu. <strong>Lütfen E-Arşiv E-Posta Durum başlığını inceleyiniz.</strong></td>
</tr>
<tr>
<td><strong>HEADER.EMAIL_STATUS_DESC</strong></td>
<td>String</td>
<td>E-Posta gönderim durum açıklaması. <strong>Lütfen E-Arşiv E-Posta Durum başlığını inceleyiniz.</strong></td>
</tr>
<tr>
<td><strong>HEADER.REPORT_ID</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;e gönderilen rapor numarası. Raporlanmamış faturalarda parametre dönülmez.</td>
</tr>
<tr>
<td><strong>HEADER.WEB_KEY</strong></td>
<td>String</td>
<td>Fatura alıcısının e-arşiv platformu üzerinden ulaşabileceği URL.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda request return objesi dönülmez.</td>
</tr>
</tbody></table>

          <h1 id="e-rsaliye-metodlar">E-İrsaliye Metodları</h1>

<p>Özel entegratör sistemi üzerinde E-İrsaliyelerin yollanması, okunması ve yüklenmesi durumlarını yapabilmek için kullanılır. Aşağıdaki metodlari içerir.</p>

<ul>
<li>SendDespatchAdvice</li>
<li>LoadDespatchAdvice</li>
<li>GetDespatchAdviceStatus</li>
<li>GetDespatchAdvice</li>
<li>MarkDespatchAdvice</li>
<li>SendReceiptAdvice</li>
<li>LoadReceiptAdvice</li>
<li>GetReceiptAdviceStatus</li>
<li>GetReceiptAdvice</li>
<li>MarkReceiptAdvice</li>
</ul>

<h2 id="dikkat-edilecek-hususlar-e-rsaliye">Dikkat Edilecek Hususlar(E-İrsaliye)</h2>

<ol>
<li><strong>Kimlik Doğrulama (Authentication)</strong> Webservisinde bulunan <strong>Login</strong> metodu ile oturum açarak session id alınacaktır. Session Id sistemimiz tarafında 8 saate kadar zaman aşımına uğramadığı için kullanıcı giriş yapınca session id alıp bütün kullanım süresinde aynı session id kullanabilirsiniz.</li>
<li><strong>Kimlik Doğrulama (Authentication)</strong> Webservisinde bulunan <strong>GetGibUserList</strong> metodu ile GIB e-irsaliye mükellef listesini her 2 saatte entegrasyon sunucularından çekmenizi tavsiye ederiz. Güncel listeyi çektikten sonra Cari listenizde ki firmaların e-irsaliye mükellefi olup olmadığını güncellemelisiniz.</li>
<li>E-İrsaliye Mükellefi olan firmalara düzenlenen irsaliyeleleri UBL-TR İrsaliye formatına dönüştürerek gönderilmelidir. Her e-irsaliye içerisinde görüntülenmesini sağlayan XSLT dokümanı olmalıdır.</li>
<li><strong>SendDespatchAdvice</strong> metodu ile irsaliye gönderimi yapılacak. Gönderim esnasında eğer alıcı mükellefe ait birden fazla Posta Kutusu bulunuyorsa ekranda seçilerek gönderilmesi sağlanmalı. Sadece 1 adet PK adresi varsa seçim yapılmadan gönderim sağlanabilir.</li>
<li><strong>GetDespatchAdviceStatus</strong> metodu ile gelen/giden irsaliyelerin durumları sorgulanacak. Nihai duruma erişene kadar belgenin durumu entegrasyon sunucularından minumum 4 saatte bir sorgulanmalıdır. <strong>Sık sorgulama yapmayınız.</strong></li>
<li><strong>GetDespatchAdvice</strong> metodu ile firmaya gelen irsaliyeleri müşteri bilgisayarına aktarılır. Sisteme gelen yeni irsaliyeleri almanız gerekmektedir. Servis ile yeni gelen en fazla 100 adet belgeyi çekebilirsiniz. Eğer dönen listede 100 adet kayıt varsa yeniden <strong>GetDespatchAdvice</strong> servisi çağırılarak başka belge olup olmadığı kontrol edilmelidir. Dönen listede 100den az kayıt varsa tekrar sorgulama yapmaya gerek yoktur.</li>
<li><strong>MarkDespatchAdvice</strong> metodu ile başarılı şekilde teslim alınan irsaliyeler eirsaliye sisteminde okundu olarak işaretlenir. Böylece bir sonra ki <strong>GetDespatchAdvice</strong> servisi çağrılınca aynı kayıt dönülmez.</li>
<li><strong>Logout</strong> metodu ile kullanıcı e-fatura programını kapatınca veya sizin belirlediğiniz bir sürede oturumu
kapatabilirsiniz.</li>
</ol>

<h2 id="e-rsaliye-g-nderme-senddespatchadvice">E-İrsaliye Gönderme (SendDespatchAdvice)</h2>

<ul>
<li>E-İrsaliye belgesini özel entegratör sistemlerine gönderilmesini sağlayan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>SENDER_VKN</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Gönderenin VKNsi.</td>
</tr>
<tr>
<td><strong>SENDER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Gönderenin ünvanı.</td>
</tr>
<tr>
<td><strong>RECEIVER_VKN</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Alıcının VKNsi.</td>
</tr>
<tr>
<td><strong>RECEIVER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Alıcının ünvanı.</td>
</tr>
<tr>
<td><strong>COMPRESSED</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>İrsaliye contentini nasıl alınacağını belirler. <code class="prettyprint">Y</code> değeri için sıkıştırılmış, <code class="prettyprint">N</code> değeri için sıkıştırılmamış contenti verir.</td>
</tr>
<tr>
<td><strong>CONTENT</strong></td>
<td>Base64Binary</td>
<td><strong>Evet</strong></td>
<td>Belgenin Base64Binary olarak encode edilmiş XML veya Ziplenmiş içeriği. Eğer belgeyi ziplemeden/sıkıştırmadan göndermek istiyorsanız <code class="prettyprint">COMPRESSED</code> elemanı eklenmeli ve <code class="prettyprint">N</code> değeri gönderilmelidir.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="taslak-e-rsaliye-y-kleme-loaddespatchadvice">Taslak E-İrsaliye Yükleme (LoadDespatchAdvice)</h2>

<ul>
<li>Taslak E-İrsaliye belgelerini yüklemek için kullanılan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>CONTENT</strong></td>
<td>Base64Binary</td>
<td><strong>Evet</strong></td>
<td>Belgenin Base64Binary olarak encode edilmiş XML veya Ziplenmiş içeriği. Eğer belgeyi ziplemeden/sıkıştırmadan göndermek istiyorsanız <code class="prettyprint">COMPRESSED</code> elemanı eklenmeli ve <code class="prettyprint">N</code> değeri gönderilmelidir.</td>
</tr>
<tr>
<td><strong>COMPRESSED</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>İrsaliye contentini nasıl alınacağını belirler. <code class="prettyprint">Y</code> değeri için sıkıştırılmış, <code class="prettyprint">N</code> değeri için sıkıştırılmamış contenti verir.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="e-rsaliye-durumunu-okuma-getdespatchadvicestatus">E-İrsaliye Durumunu Okuma (GetDespatchAdviceStatus)</h2>

<ul>
<li>Sistemde bulunan irsaliyelerin durumlarını okumak için kullanılan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>UUID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Evrensel Tekil Tanımlama Numarası (ETTN) ile okumak için kullanılır.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>DESPATCHADVICE_STATUS</strong></td>
<td>Complex</td>
<td>Sorgu kriterine uyan irsaliye yanıtlarının listesi.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICE_STATUS.DESPATCHADVICEHEADER</strong></td>
<td>Complex</td>
<td>İrsaliye yanıtına ait özet bilgiler içermektedir.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.ID</strong></td>
<td>String</td>
<td>İrsaliye yanıtı numarası.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.UUID</strong></td>
<td>String</td>
<td>Evrensel tekil tanımlama numarası.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.PROFILEID</strong></td>
<td>String</td>
<td>Belge senaryosu. <code class="prettyprint">TEMELIRSALIYE</code> değeri olabilir.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.ISSUE_DATE</strong></td>
<td>Date</td>
<td>Belge tarihi.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.ISSUE_TIME</strong></td>
<td>String</td>
<td>Belge düzenleme zamanı.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.ACTUAL_SHIPMENT_DATE</strong></td>
<td>Date</td>
<td>Fiili sevk tarihi.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.ACTUAL_SHIPMENT_TIME</strong></td>
<td>String</td>
<td>Fiili sevk zamanı.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.DIRECTION</strong></td>
<td>String</td>
<td>Belge yönü. Gelen irsaliye yanıtı için <code class="prettyprint">IN</code>, giden irsaliye yanıtı için <code class="prettyprint">OUT</code> değeri dönülür.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.STATUS</strong></td>
<td>String</td>
<td>Belgenin durumu. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.STATUS_CODE</strong></td>
<td>String</td>
<td>Belgenin durum kodu. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Belge durum açıklaması. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.GIB_STATUS_CODE</strong></td>
<td>String</td>
<td>Belgenin GİB&#39;de ki durum kodu. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.GIB_STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Belgenin GİB&#39;de ki durum kodunun açıklaması. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.ENVELOPE_IDENTIFIER</strong></td>
<td>String</td>
<td>Belgenin zarf IDsi.</td>
</tr>
</tbody></table>

<h2 id="e-rsaliye-okuma-getdespatchadvice">E-İrsaliye Okuma (GetDespatchAdvice)</h2>

<ul>
<li>Sistemde bulunan irsaliyeleri okumak için kullanılan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>DIRECTION</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Belge yönü. Gelen veya Giden irsaliyeleri çekmek için kullanılabilir. Gelen irsaliyeleleri çekmek için <code class="prettyprint">IN</code>, giden irsaliyeleleri çekmek için <code class="prettyprint">OUT</code> değeri gönderilebilir. Varsayılan değer <code class="prettyprint">IN</code> olduğu için eğer parametre gönderilmezse sadece gelen irsaliyeler dönülecektir. Gönderilebilecek değerler: <code class="prettyprint">IN</code>, <code class="prettyprint">OUT</code></td>
</tr>
<tr>
<td><strong>LIMIT</strong></td>
<td>Integer</td>
<td><strong>Hayır</strong></td>
<td>Gelen cevapta en fazla kaç adet irsaliye olabileceğini belirtir.</td>
</tr>
<tr>
<td><strong>SENDER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Gönderenin ünvanı.</td>
</tr>
<tr>
<td><strong>RECEIVER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Alıcının ünvanı.</td>
</tr>
<tr>
<td><strong>UUID</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Evrensel Tekil Tanımlama Numarası (ETTN) ile okumak için kullanılır.</td>
</tr>
<tr>
<td><strong>START_DATE</strong></td>
<td>Date</td>
<td><strong>Hayır</strong></td>
<td>Belirli bir tarih aralığı araması yapıldığında başlangıç tarihi ataması yapılır. <strong>Format: 2019-01-01</strong></td>
</tr>
<tr>
<td><strong>END_DATE</strong></td>
<td>Date</td>
<td><strong>Hayır</strong></td>
<td>Belirli bir tarih aralığı araması yapıldığında bitiş tarihi ataması yapılır. <strong>Format: 2019-12-31</strong></td>
</tr>
<tr>
<td><strong>HEADER_ONLY</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td><code class="prettyprint">Y</code> verildiğinde irsaliye özeti döner. <code class="prettyprint">N</code> verildiğinde ise <code class="prettyprint">CONTENT</code>i de yollanır.</td>
</tr>
<tr>
<td><strong>READ_INCLUDED</strong></td>
<td>Boolean</td>
<td><strong>Hayır</strong></td>
<td>Daha önce okunmuş belgeleri dönüşe dahil edilip edilmeyeceğini belirleyen parametredir.<code class="prettyprint">true</code> değeri atanırsa okunmuş belgeler de gelir, <code class="prettyprint">false</code> atamasında iste sadece okunmamış belgeler gelecektir.</td>
</tr>
<tr>
<td><strong>COMPRESSED</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>İrsaliye contentini nasıl alınacağını belirler. <code class="prettyprint">Y</code> değeri için sıkıştırılmış, <code class="prettyprint">N</code> değeri için sıkıştırılmamış contenti verir.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>DESPATCHADVICE</strong></td>
<td>Complex</td>
<td>Sorgu kriterine uyan irsaliyelerin listesi. İrsaliye numarası <code class="prettyprint">ID</code>, evrensel tekil tanımlama numarası <code class="prettyprint">UUID</code> ve e-irsaliye sisteminde tanımlı tekil numara değeri <code class="prettyprint">LIST_ID</code> attribute içerisinde dönülmektedir.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICE.DESPATCHADVICEHEADER</strong></td>
<td>Complex</td>
<td>İrsaliyeye ait özet bilgiler içermektedir.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.PROFILEID</strong></td>
<td>String</td>
<td>Belge senaryosu. <code class="prettyprint">TEMELIRSALIYE</code> değeri olabilir.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.ISSUE_DATE</strong></td>
<td>Date</td>
<td>Belge tarihi.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.ISSUE_TIME</strong></td>
<td>String</td>
<td>Belge düzenleme zamanı.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.ACTUAL_SHIPMENT_DATE</strong></td>
<td>Date</td>
<td>Fiili sevk tarihi.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.ACTUAL_SHIPMENT_TIME</strong></td>
<td>String</td>
<td>Fiili sevk zamanı.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.TYPE_CODE</strong></td>
<td>String</td>
<td>Belgenin tipi. <code class="prettyprint">SEVK</code> değeri olabilir.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.DIRECTION</strong></td>
<td>String</td>
<td>Belge yönü. Gelen irsaliye için <code class="prettyprint">IN</code>, giden irsaliye için <code class="prettyprint">OUT</code> değeri dönülür.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.SENDER</strong></td>
<td>String</td>
<td>Belgeyi gönderen firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.RECEIVER</strong></td>
<td>String</td>
<td>Belgeyi alan firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.STATUS</strong></td>
<td>String</td>
<td>Belgenin durumu. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.STATUS_CODE</strong></td>
<td>String</td>
<td>Belgenin durum kodu. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Belge durum açıklaması. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.GIB_STATUS_CODE</strong></td>
<td>Integer</td>
<td>Belgenin GİB&#39;de ki durum kodu. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.GIB_STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Belgenin GİB&#39;de ki durum kodunun açıklaması. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.CDATE</strong></td>
<td>DateTime</td>
<td>Belgenin sisteme ulaştığı tarih</td>
</tr>
<tr>
<td><strong>DESPATCHADVICEHEADER.ENVELOPE_IDENTIFIER</strong></td>
<td>String</td>
<td>Belgenin zarf IDsi.</td>
</tr>
<tr>
<td><strong>DESPATCHADVICE.CONTENT</strong></td>
<td>Base64Binary</td>
<td>Belgenin içeriği. Eğer <code class="prettyprint">COMPRESSED</code> parametresi <code class="prettyprint">N</code> olarak gönderilmişse XML dosya, <code class="prettyprint">COMPRESSED</code> elemanı gönderilmemiş veya <code class="prettyprint">Y</code> değeri gönderilmişse sıkıştırılmış/ziplenmiş XML dosyası dönülür.</td>
</tr>
</tbody></table>

<h2 id="e-rsaliyeyi-okundu-aretleme-markdespatchadvice">E-İrsaliyeyi Okundu İşaretleme (MarkDespatchAdvice)</h2>

<ul>
<li>E-İrsaliye belgelerini okundu/okunmadı olarak işaretlemek için kullanılan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>ACTION</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Başarı ile alındıysa <code class="prettyprint">READ</code> gönderilmeli. Daha önce alındı olarak işaretlenen bir faturayı tekrar çekmeden önce <code class="prettyprint">UNREAD</code> olarak gönderilebilir.</td>
</tr>
<tr>
<td><strong>UUID</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>İşaretlenecek belgenin Evrensel Tekil Tanımlama Numarası.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="e-rsaliye-yan-t-g-nderme-sendreceiptadvice">E-İrsaliye Yanıtı Gönderme (SendReceiptAdvice)</h2>

<ul>
<li>E-İrsaliye Yanıtı belgesini özel entegratör sistemlerine gönderilmesini sağlayan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>SENDER_VKN</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Gönderenin VKNsi.</td>
</tr>
<tr>
<td><strong>SENDER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Gönderenin ünvanı.</td>
</tr>
<tr>
<td><strong>RECEIVER_VKN</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Alıcının VKNsi.</td>
</tr>
<tr>
<td><strong>RECEIVER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Alıcının ünvanı.</td>
</tr>
<tr>
<td><strong>COMPRESSED</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>İrsaliye contentini nasıl alınacağını belirler. <code class="prettyprint">Y</code> değeri için sıkıştırılmış, <code class="prettyprint">N</code> değeri için sıkıştırılmamış contenti verir.</td>
</tr>
<tr>
<td><strong>CONTENT</strong></td>
<td>Base64Binary</td>
<td><strong>Evet</strong></td>
<td>Belgenin Base64Binary olarak encode edilmiş XML veya Ziplenmiş içeriği. Eğer belgeyi ziplemeden/sıkıştırmadan göndermek istiyorsanız <code class="prettyprint">COMPRESSED</code> elemanı eklenmeli ve <code class="prettyprint">N</code> değeri gönderilmelidir.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="taslak-e-rsaliye-yan-t-y-kleme-loadreceiptadvice">Taslak E-İrsaliye Yanıtı Yükleme (LoadReceiptAdvice)</h2>

<ul>
<li>Taslak E-İrsaliye Yanıtı belgelerini yüklemek için kullanılan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>CONTENT</strong></td>
<td>Base64Binary</td>
<td><strong>Evet</strong></td>
<td>Belgenin Base64Binary olarak encode edilmiş XML veya Ziplenmiş içeriği. Eğer belgeyi ziplemeden/sıkıştırmadan göndermek istiyorsanız <code class="prettyprint">COMPRESSED</code> elemanı eklenmeli ve <code class="prettyprint">N</code> değeri gönderilmelidir.</td>
</tr>
<tr>
<td><strong>COMPRESSED</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>İrsaliye contentini nasıl alınacağını belirler. <code class="prettyprint">Y</code> değeri için sıkıştırılmış, <code class="prettyprint">N</code> değeri için sıkıştırılmamış contenti verir.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="e-rsaliye-yan-t-durumu-okuma-getreceiptadvicestatus">E-İrsaliye Yanıtı Durumu Okuma (GetReceiptAdviceStatus)</h2>

<ul>
<li>Sistemde bulunan irsaliye yanıtlarının durumlarını okumak için kullanılan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>UUID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Evrensel Tekil Tanımlama Numarası (ETTN) ile okumak için kullanılır.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>RECEIPTADVICE_STATUS</strong></td>
<td>Complex</td>
<td>Sorgu kriterine uyan irsaliye yanıtlarının listesi.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICE_STATUS.RECEIPTADVICEHEADER</strong></td>
<td>Complex</td>
<td>İrsaliye yanıtına ait özet bilgiler içermektedir.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.ID</strong></td>
<td>String</td>
<td>İrsaliye yanıtı numarası.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.UUID</strong></td>
<td>String</td>
<td>Evrensel tekil tanımlama numarası.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.PROFILEID</strong></td>
<td>String</td>
<td>Belge senaryosu. <code class="prettyprint">TEMELIRSALIYE</code> değeri olabilir.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.ISSUE_DATE</strong></td>
<td>Date</td>
<td>Belge tarihi.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.ISSUE_TIME</strong></td>
<td>String</td>
<td>Belge düzenleme zamanı.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.ACTUAL_SHIPMENT_DATE</strong></td>
<td>Date</td>
<td>Fiili sevk tarihi.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.ACTUAL_SHIPMENT_TIME</strong></td>
<td>String</td>
<td>Fiili sevk zamanı.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.DIRECTION</strong></td>
<td>String</td>
<td>Belge yönü. Gelen irsaliye yanıtı için <code class="prettyprint">IN</code>, giden irsaliye yanıtı için <code class="prettyprint">OUT</code> değeri dönülür.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.STATUS</strong></td>
<td>String</td>
<td>Belgenin durumu. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.STATUS_CODE</strong></td>
<td>String</td>
<td>Belgenin durum kodu. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Belge durum açıklaması. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.GIB_STATUS_CODE</strong></td>
<td>String</td>
<td>Belgenin GİB&#39;de ki durum kodu. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.GIB_STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Belgenin GİB&#39;de ki durum kodunun açıklaması. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.ENVELOPE_IDENTIFIER</strong></td>
<td>String</td>
<td>Belgenin zarf IDsi.</td>
</tr>
</tbody></table>

<h2 id="e-rsaliye-yan-t-okuma-getreceiptadvice">E-İrsaliye Yanıtı Okuma (GetReceiptAdvice)</h2>

<ul>
<li>Sistemde bulunan irsaliye yanıtlarını okumak için kullanılan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>DIRECTION</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Belge yönü. Gelen veya Giden irsaliyeleri çekmek için kullanılabilir. Gelen irsaliyeleleri çekmek için <code class="prettyprint">IN</code>, giden irsaliyeleleri çekmek için <code class="prettyprint">OUT</code> değeri gönderilebilir. Varsayılan değer <code class="prettyprint">IN</code> olduğu için eğer parametre gönderilmezse sadece gelen irsaliyeler dönülecektir. Gönderilebilecek değerler: <code class="prettyprint">IN</code>, <code class="prettyprint">OUT</code></td>
</tr>
<tr>
<td><strong>LIMIT</strong></td>
<td>Integer</td>
<td><strong>Hayır</strong></td>
<td>Gelen cevapta en fazla kaç adet irsaliye olabileceğini belirtir.</td>
</tr>
<tr>
<td><strong>SENDER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Gönderenin ünvanı.</td>
</tr>
<tr>
<td><strong>RECEIVER_ALIAS</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Alıcının ünvanı.</td>
</tr>
<tr>
<td><strong>UUID</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Evrensel Tekil Tanımlama Numarası (ETTN) ile okumak için kullanılır.</td>
</tr>
<tr>
<td><strong>START_DATE</strong></td>
<td>Date</td>
<td><strong>Hayır</strong></td>
<td>Belirli bir tarih aralığı araması yapıldığında başlangıç tarihi ataması yapılır. <strong>Format: 2019-01-01</strong></td>
</tr>
<tr>
<td><strong>END_DATE</strong></td>
<td>Date</td>
<td><strong>Hayır</strong></td>
<td>Belirli bir tarih aralığı araması yapıldığında bitiş tarihi ataması yapılır. <strong>Format: 2019-12-31</strong></td>
</tr>
<tr>
<td><strong>HEADER_ONLY</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td><code class="prettyprint">Y</code> verildiğinde irsaliye özeti döner. <code class="prettyprint">N</code> verildiğinde ise <code class="prettyprint">CONTENT</code>i de yollanır.</td>
</tr>
<tr>
<td><strong>READ_INCLUDED</strong></td>
<td>Boolean</td>
<td><strong>Hayır</strong></td>
<td>Daha önce okunmuş belgeleri dönüşe dahil edilip edilmeyeceğini belirleyen parametredir.<code class="prettyprint">true</code> değeri atanırsa okunmuş belgeler de gelir, <code class="prettyprint">false</code> atamasında iste sadece okunmamış belgeler gelecektir.</td>
</tr>
<tr>
<td><strong>COMPRESSED</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>İrsaliye contentini nasıl alınacağını belirler. <code class="prettyprint">Y</code> değeri için sıkıştırılmış, <code class="prettyprint">N</code> değeri için sıkıştırılmamış contenti verir.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>RECEIPTADVICE</strong></td>
<td>Complex</td>
<td>Sorgu kriterine uyan irsaliye yanıtlarının listesi. İrsaliye numarası <code class="prettyprint">ID</code>, evrensel tekil tanımlama numarası <code class="prettyprint">UUID</code> ve e-irsaliye sisteminde tanımlı tekil numara değeri <code class="prettyprint">LIST_ID</code> attribute içerisinde dönülmektedir.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICE.RECEIPTADVICEHEADER</strong></td>
<td>Complex</td>
<td>İrsaliye yanıtına ait özet bilgiler içermektedir.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.PROFILEID</strong></td>
<td>String</td>
<td>Belge senaryosu. <code class="prettyprint">TEMELIRSALIYE</code> değeri olabilir.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.ISSUE_DATE</strong></td>
<td>Date</td>
<td>Belge tarihi.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.ISSUE_TIME</strong></td>
<td>String</td>
<td>Belge düzenleme zamanı.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.ACTUAL_SHIPMENT_DATE</strong></td>
<td>Date</td>
<td>Fiili sevk tarihi.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.ACTUAL_SHIPMENT_TIME</strong></td>
<td>String</td>
<td>Fiili sevk zamanı.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.TYPE_CODE</strong></td>
<td>String</td>
<td>Belgenin tipi. <code class="prettyprint">SEVK</code> değeri olabilir.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.DIRECTION</strong></td>
<td>String</td>
<td>Belge yönü. Gelen irsaliye yanıtı için <code class="prettyprint">IN</code>, giden irsaliye yanıtı için <code class="prettyprint">OUT</code> değeri dönülür.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.SENDER</strong></td>
<td>String</td>
<td>Belgeyi gönderen firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.RECEIVER</strong></td>
<td>String</td>
<td>Belgeyi alan firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.STATUS</strong></td>
<td>String</td>
<td>Belgenin durumu. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.STATUS_CODE</strong></td>
<td>String</td>
<td>Belgenin durum kodu. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Belge durum açıklaması. Detay için <strong>E-İrsaliye Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.GIB_STATUS_CODE</strong></td>
<td>Integer</td>
<td>Belgenin GİB&#39;de ki durum kodu. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.GIB_STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Belgenin GİB&#39;de ki durum kodunun açıklaması. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.CDATE</strong></td>
<td>DateTime</td>
<td>Belgenin sisteme ulaştığı tarih</td>
</tr>
<tr>
<td><strong>RECEIPTADVICEHEADER.ENVELOPE_IDENTIFIER</strong></td>
<td>String</td>
<td>Belgenin zarf IDsi.</td>
</tr>
<tr>
<td><strong>RECEIPTADVICE.CONTENT</strong></td>
<td>Base64Binary</td>
<td>Belgenin içeriği. Eğer <code class="prettyprint">COMPRESSED</code> parametresi <code class="prettyprint">N</code> olarak gönderilmişse XML dosya, <code class="prettyprint">COMPRESSED</code> elemanı gönderilmemiş veya <code class="prettyprint">Y</code> değeri gönderilmişse sıkıştırılmış/ziplenmiş XML dosyası dönülür.</td>
</tr>
</tbody></table>

<h2 id="e-rsaliye-yan-t-n-okundu-aretleme-markreceiptadvice">E-İrsaliye Yanıtını Okundu İşaretleme (MarkReceiptAdvice)</h2>

<ul>
<li>E-İrsaliye Yanıtı belgelerini okundu/okunmadı olarak işaretlemek için kullanılan servisin clientıdır.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login metodundan alınmış olan aktif <strong>SESSION_ID</strong> değeri verilmelidir.</td>
</tr>
<tr>
<td><strong>ACTION</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>Başarı ile alındıysa <code class="prettyprint">READ</code> gönderilmeli. Daha önce alındı olarak işaretlenen bir faturayı tekrar çekmeden önce <code class="prettyprint">UNREAD</code> olarak gönderilebilir.</td>
</tr>
<tr>
<td><strong>UUID</strong></td>
<td>String</td>
<td><strong>Hayır</strong></td>
<td>İşaretlenecek belgenin Evrensel Tekil Tanımlama Numarası.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_RETURN.INTL_TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>İstek ile istemci tarafından işlem IDsi gönderilmişse sonuç ile beraber dönülür.</td>
</tr>
<tr>
<td><strong>REQUEST_RETURN.RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="csharp">C#</a>
          </div>
      </div>
    </div>
  </body>
</html>
