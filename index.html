<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>İZİBİZ Entegrasyon Kılavuzu</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="stylesheets/fakeloader.css" rel="stylesheet" type="text/css" />
    <link href="stylesheets/izibiz.css" rel="stylesheet" type="text/css" />
    <link rel="icon" href="https://izibiz.com.tr/templates/theme3181/favicon.ico">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="javascripts/fakeloader.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

    <script>
/*    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-6257094-15', 'auto');
    ga('send', 'pageview');
*/    $(document).ready(function() {
      $('.tocify-item a').on('click', function(){
        ga('send', 'pageview', {'page': location.pathname + location.search  + location.hash});
      });
    });
    </script>

      <script>
        $(document).ready(
          function() {
              window.FakeLoader.init( );
          }
        );
        $(function() {
          setupLanguages(["csharp","php","delphi","java"]);
        });
      </script>
  </head>

  <body class="index">
    <div id="fakeloader-overlay" class="visible incoming"><div class="loader-wrapper-outer"><div class="loader-wrapper-inner"><div class="loader"></div></div></div></div>
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <div class="logo-holder">
        <a href="https://izibiz.com.tr"><img src="images/logo.png" alt="Logo" /></a>
      </div>
        <div class="lang-selector">
              <a href="#" data-language-name="csharp">C#</a>
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="delphi">Delphi</a>
              <a href="#" data-language-name="java">Java</a>
        </div>
     <!-- <div class="key-replace">
        <input type="text" class="key-replace" placeholder="Your API Key (optional)">
      </div>
-->   
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://izibiz.com.tr/index.php/urun-ve-hizmetler/e-fatura-destek/demo' target='_blank'>Test Hesabı Talep Formu</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="ba-larken">Başlarken</h1>

<p>İZİBİZ Entegrasyon kılavuzuna hoşgeldiniz. Bu kılavuz yazılımlarını İZİBİZ sistemlerine entegre etmek isteyen firmalara yol göstermek için hazırlanmıştır.  Entegrasyon kılavuzumuz aşağıda ki ürünleri desteklemektedir :</p>

<ul>
<li>E-Fatura</li>
<li>E-Arşiv Fatura</li>
<li>E-İrsaliye</li>
<li>E-Mutabakat</li>
<li>E-Defter</li>
<li>E-Müstahsil Makbuzu</li>
<li>E-Serbest Meslek Makbuzu&lt;</li>
</ul>

<p>Eğer entegrasyona yeni başlıyorsanız Başlarken başlığı altında ki bilgileri okumanızı tavsiye ederiz.</p>

<h2 id="yard-m-talebi">Yardım Talebi</h2>

<h2 id="kavramlar">Kavramlar</h2>

<table><thead>
<tr>
<th><strong>Kavram</strong></th>
<th><strong>Açıklama</strong></th>
</tr>
</thead><tbody>
<tr>
<td>API</td>
<td>Application Programming Interface</td>
</tr>
<tr>
<td>HTML</td>
<td>Hyper Text Markup Language.</td>
</tr>
</tbody></table>

<h2 id="rnek-projeler">Örnek Projeler</h2>

          <h1 id="e-fatura-servisi">E-Fatura Servisi</h1>

<p>e-Fatura servisi, e-fatura mükellefinin fatura gönderimini ve gelen faturaları kendisi sistemine çekmesini sağlayan webservis uygulamasıdır.</p>

<h2 id="wsdl-endpoint-adresi">WSDL Endpoint Adresi</h2>

<p>E-Fatura Webservisine aşağıdaki adresten erişilmektedir:</p>

<p>Test Sistemi: <a href="https://efaturatest.izibiz.com.tr/EFaturaOIB">https://efaturatest.izibiz.com.tr/EFaturaOIB</a></p>

<p>Test Portal Adresimiz: <a href="https://portaltest.izibiz.com.tr">https://portaltest.izibiz.com.tr</a></p>

<p>Test portali erişim bilgileri için <strong>entegrasyon@izibiz.com.tr</strong> adresi ile iletişime geçebilirsiniz.</p>

<h2 id="dikkat-edilecek-hususlar">Dikkat Edilecek Hususlar</h2>

<p>Uygulamanızı tasarlarken aşağıda ki bilgiler faydalı olacaktır:</p>

<ol>
<li><p><strong>Login</strong> metodu ile oturum açarak session id alınacak. Session Id sistemimiz tarafında 8 saate kadar zaman aşımına uğramadığı için kullanıcı giriş yapınca session id alıp bütün kullanım süresinde aynı session id kullanabilirsiniz. Portal tarafında sessionlar 30 dk timeout süresi bulunuyor.</p></li>
<li><p><strong>GetUserListBinary</strong> metodu ile GIB e-fatura mükellef listesini her 2 saatte İzibiz sunucularından çekmeniz gerekmektedir. Güncel listeyi çektikten sonra Cari listenizde ki firmaların e-fatura mükellefi olup olmadığını güncellemelisiniz.</p></li>
<li><p>E-Fatura Mükellefi olan firmalara kesilen faturaları UBL-TR formatına dönüştürerek (ekte örnek fatura bulunuyor) İzibiz sunucularına gönderebilirsiniz. Her fatura içerisinde faturanın görüntülenmesini sağlayan XSLT dokümanı olmalıdır.</p></li>
<li><p><strong>SendInvoice</strong> metodu ile fatura gönderimi yapılacak. Gönderim esnasında eğer faturanın alıcısına ait birden fazla Posta Kutusu bulunuyorsa ekranda seçilerek gönderilmesi sağlanmalı. Sadece 1 adet PK adresi varsa seçim yapılmadan gönderim sağlanabilir.</p></li>
<li><p><strong>GetInvoiceStatus</strong> metodu ile gelen/giden faturaların durumları sorgulanacak. Nihai duruma erişene kadar faturanın durumu İzibiz sunucularından minumum 4 saatte bir sorgulanmalıdır. <strong>Sık sorgulama yapmayınız.</strong></p></li>
<li><p><strong>GetInvoice</strong> metodu ile firmaya gelen faturalar müşteri bilgisayarına aktarılır. İzibiz sistemlerine gelen yeni faturaları almanız gerekmektedir. Servis ile yeni gelen en fazla 100 adet faturayı çekebilirsiniz. Eğer dönen listede 100 adet fatura varsa yeniden getinvoice servisi çağırılarak başka fatura olup olmadığı kontrol edilmelidir. Dönen listede 100den az fatura varsa tekrar sorgulama yapmaya gerek yoktur.</p></li>
<li><p><strong>MarkInvoice</strong> metodu ile başarılı şekilde teslim alınan faturalar izibiz sistemlerinde okundu olarak işaretlenir. Böylece bir sonra ki getinvoice servisi çağrılınca dönülmez.</p></li>
<li><p><strong>SendInvoiceResponseWithServerSign</strong> metodu ile gelen ticari bir faturaya kabul veya red yanıtı gönderebilirsiniz. Gelen bir faturaya 8 gün içerisinde kabul veya red gönderilebilir. <strong>8 günü geçtikten sonra kabul/red yapılması engellenmelidir. Temel faturalar için yanıt gönderilmesi kısıtlanmalıdır.</strong></p></li>
<li><p><strong>Logout</strong> metodu ile kullanıcı e-fatura programını kapatınca veya sizin belirlediğiniz bir sürede oturumu
kapatabilirsiniz.</p></li>
</ol>

<h2 id="stmeci-client-rnek-projeler">İstmeci (client) Örnek Projeler</h2>

<p>E-Fatura entegrasyonu için sunucu taraflı programlama diline uygun farklı istemci(client) örnekleri sunar. Bu istemcilerden programlama yapmak istediğiniz dile uygun olanı seçip sandbox(test) bilgileri ile kullanmaya başlayabilirsiniz.</p>

<p><a href="/resource/client/izibiz-efatura-dotnet-client.zip" target="_blank"><img src="/images/icon_dotnet.png"/></a>
<a href="/resource/client/izibiz-php-client.zip" target="_blank"><img src="/images/icon_php.png"/></a>
<a href="/resource/client/izibiz-efatura-java-client.zip" target="_blank"><img src="/images/icon_java.png"/></a></p>

<h2 id="g-b-dok-manlar">GİB Dokümanları</h2>

<table><thead>
<tr>
<th>Doküman</th>
<th>Açıklama</th>
<th>İndir</th>
</tr>
</thead><tbody>
<tr>
<td><strong>UBL-TR Fatura</strong></td>
<td>UBL-TR v1.2 (UBL 2.1 Türkiye Özelleştirmesi) paketinde yer alan fatura belgesinde geçen elemanlara ait XSD, tanımlama, kullanım şekilleri, kardinaliteler hakkında bilgi vermek ve örnek kullanım şekillerini göstermek amacı ile hazırlanmıştır.</td>
<td><a href="/resource/BELGELER/UBL-TR Fatura - V 1.0.pdf"><img src="/images/pdf-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>UBL-TR Ortak Elemanlar</strong></td>
<td>UBL-TR (UBL 2.1 Türkiye Özelleştirmesi) paketinde yer alan belgelerde geçmesi muhtemel elemanlara ait (ortak elemanlar örneğin: Adres, Parasal Toplamlar, Taraf gibi) XSD, açıklama, kullanım şartları, kardinaliteler hakkında bilgi vermek ve örnek kullanım şekillerini göstermek amacı ile hazırlanmıştır.</td>
<td><a href="/resource/BELGELER/UBL-TR Ortak Elemanlar - V 0.7.pdf"><img src="/images/pdf-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>UBL-TR Kod Listeleri</strong></td>
<td>UBL-TR kapsamında kullanılan Kodlama Sistemleri ve Kimlik Şemaları hakkında bilgi vermek amacı ile hazırlanmıştır.</td>
<td><a href="/resource/BELGELER/UBL-TR Kod Listeleri - V 1.18.pdf"><img src="/images/pdf-icon.png" height="40" width="35"/></a></td>
</tr>
</tbody></table>

<h2 id="ubl-fatura-rnekleri">UBL-Fatura Örnekleri</h2>

<p>E-Fatura ve E-Arşiv Fatura sistemi üzerinden düzenlebilecek ve gönderilebilecek fatura senaryoları ve örnek fatura XML dosyası aşağıda listelenmiştir.</p>

<aside class="notice">Listede bulunmayan senaryolar için fatura üretmek için  E-Fatura Portale erişebilirsiniz.</aside>

<table><thead>
<tr>
<th>Fatura Senaryosu</th>
<th>Açıklama</th>
<th>XML</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Temel Fatura</strong></td>
<td>Alıcısı tarafından elektronik ortamda kabul veya reddedilemeyen fatura tipidir.</td>
<td><a href="/resource/xml/temel_fatura_ornek.xml" target="_blank"><img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>Ticari Fatura</strong></td>
<td>Alıcısı tarafından elektronik ortamda kabul veya reddedilebilen fatura tipidir.</td>
<td><a href="/resource/xml/ticari_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>Satış Faturası</strong></td>
<td>Mal satışı veya hizmet ifası sonrası alıcıya düzenlenen fatura tipidir.</td>
<td><a href="/resource/xml/satis_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>İade Faturası</strong></td>
<td>Alınan bir fatura üzerinde ki yanlış tutar veya eksik bilgi sebebi ile düzenlenen fatura tipidir. <strong>İade faturası TEMELFATURA olarak gönderilmesi zorunludur.</strong></td>
<td><a href="/resource/xml/iade_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>İstisna Faturası</strong></td>
<td>İstisna Faturası</td>
<td><a href="/resource/xml/istisna_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>Özel Mathrah Faturası</strong></td>
<td>Özel Matrah Faturası</td>
<td><a href="/resource/xml/ozelmatrah_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>Tevkifat Faturası</strong></td>
<td>Tevkifat Faturası</td>
<td><a href="/resource/xml/tevkifat_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>İhraç Kayıtlı Fatura</strong></td>
<td>İhraç Kayıtlı Fatura</td>
<td><a href="/resource/xml/ihrackayitli_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>İhracat Faturası</strong></td>
<td>İhracat Faturası</td>
<td><a href="/resource/xml/ihracat_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>Yolcu Beraberi (Taxfree)</strong></td>
<td>Yolcu Beraberi (Taxfree)</td>
<td><a href="/resource/xml/taxfree_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>SGK Faturası</strong></td>
<td>SGK Faturası TEMELFATURA senaryosunda gönderilmek zorundadır.</td>
<td><a href="/resource/xml/sgk_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
</tbody></table>

<h2 id="ortak-kullan-lan-eleman">Ortak Kullanılan Eleman</h2>

<p>Her webservis isteğinde gönderilmesi beklen ortak elemandır (REQUEST_HEADER)</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Login Metodunda sistem tarafında gönderilen SESSION_ID bilgisi. Sonraki tüm metod çağrılarında parametre olarak metoda geçmelidir.</td>
</tr>
<tr>
<td><strong>CLIENT_TXN_ID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>İstemci uygulama tarafından işlem için üretilen işlem bilgisi (transaction id) varsa istek esnasında gönderilip, sonuçta alabileceğiniz bir değerdir. request/response eşleşmesi yapmak için kullanılabilir.</td>
</tr>
<tr>
<td><strong>INT_PARENT_TXN_ID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>İstemci uygulamasında ana modül entitileri ile ilişkilendirelmek istenen ana transaction ID.</td>
</tr>
<tr>
<td><strong>ACTION_DATE</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Metodun çağrılma tarihi</td>
</tr>
<tr>
<td><strong>CHANGE_INFO</strong></td>
<td>Array</td>
<td>Hayır</td>
<td>Bu eleman ile eğer verilerde bir değişiklik yapılacak ise o değişikliği ait bilgi.</td>
</tr>
<tr>
<td><strong>REASON</strong></td>
<td>String</td>
<td>Hayır</td>
<td>İşlem sebebi. Fatura gönderme, fatura alma vs.</td>
</tr>
<tr>
<td><strong>APPLICATION_NAME</strong></td>
<td>String</td>
<td><strong>Evet</strong></td>
<td>Metodu çağıran uygulamanın adı. Mutlaka uygulama adının yazılması gerekmektedir.</td>
</tr>
<tr>
<td><strong>HOST_NAME</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Metodu çağıran sunucunun host bilgisi.</td>
</tr>
<tr>
<td><strong>CHANNEL_NAME</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Metodun çağrıldığı kanal adı.</td>
</tr>
<tr>
<td><strong>SIMULATION_FLAG</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Metod çağrılır ancak arkadaki işlem yapılmaz.</td>
</tr>
<tr>
<td><strong>COMPRESSED</strong></td>
<td>String</td>
<td>Hayır</td>
<td>İçerikte taşınan bilginin ZIP formatında sıkıştırılmış mı gönderildiği/talep edildiği bilgisi. Bu parametre aşağıda ki servislerde kullanılmaktadır:</td>
</tr>
</tbody></table>

<ul>
<li>LoadInvoice</li>
<li>SendInvoice</li>
<li>SendInvoiceResponse</li>
</ul>

<h2 id="oturum-a-ma-login">Oturum Açma (Login)</h2>

<p>Web servis istemcisinin(client) EFATURA Entegrasyon Platformuna kimlik doğrulayarak giriş yapmasını sağlar. Webservise giriş için kullanılan kullanıcı bilgileri, portale giriş için kullanılan kullanıcı bilgileri ile aynıdır. Login komutu sonrası dönen session ID parametresi login sonrası çağrılacak tüm metodlarda parameter olarak kullanılmalıdır.</p>

<aside class="notice">DİKKAT: Açılan oturum sistemimizde 8 saat aktif kalmaktadır. Her fatura gönderiminde oturum açma ve kapatmak zorunda değilsiniz.
</aside>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Request Header objesi içerisinde <code class="prettyprint">SESSION_ID</code> ve <code class="prettyprint">APPLICATION_NAME</code> alanı zorunludur.</td>
</tr>
<tr>
<td><strong>REQUEST_HEADER.SESSION_ID</strong></td>
<td>String</td>
<td>Evet</td>
<td>Request Header objesi içerisinde bulunan <code class="prettyprint">SESSION_ID</code> login servisinde -1 olarak gönderilmelidir.</td>
</tr>
<tr>
<td><strong>USER_NAME</strong></td>
<td>String</td>
<td>Evet</td>
<td>E-Fatura sisteminde tanımlı kullanıcı adı. Test hesabı için entegrasyon@izibiz.com.tr e-posta adresiyle iletişime geçebilirsiniz.</td>
</tr>
<tr>
<td><strong>PASSWORD</strong></td>
<td>String</td>
<td>Evet</td>
<td>E-Fatura sisteminde tanımlı kullanıcıya ait şifre.</td>
</tr>
</tbody></table>

<p><br><br>
Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td>Sonraki metod çağrılarında kullanılacak oturum bilgisi.</td>
</tr>
</tbody></table>

<h2 id="oturum-kapatma-logout">Oturum Kapatma (Logout)</h2>

<p>Web servis istemcisinin(client) EFATURA Entegrasyon Platformununda ki oturumu kapatmasını sağlayan metotdur.</p>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>SESSION_ID</strong></td>
<td>String</td>
<td>Evet</td>
<td>Oturum kapatılmak istenen session ID değeri gönderilir.</td>
</tr>
</tbody></table>

<p><br>
<br>
Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>RETURN_CODE</strong></td>
<td>String</td>
<td>Oturum başarı ile sonlandırılmışsa 0 döner</td>
</tr>
</tbody></table>

<h2 id="m-kellef-listesi-ekme-getuserlistbinary">Mükellef Listesi Çekme (GetUserListBinary)</h2>

<p>E-Fatura ve E-İrsaliye sistemine kayıtlı firmalara ait GB/PK etiketlerinin sıkıştırılmış olarak istenilen tipte dönüldüğü servistir.</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Request Header objesi içerisinde <code class="prettyprint">SESSION_ID</code> ve <code class="prettyprint">APPLICATION_NAME</code> alanı zorunludur.</td>
</tr>
<tr>
<td><strong>TYPE</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Listenin dönüleceği dosya tipi. XML ve CSV olabilir. Varsayılan XMLdir.</td>
</tr>
<tr>
<td><strong>DOCUMENT_TYPE</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Mükellef listesi çekilmek istenilen ürün tipi. E-Fatura için <code class="prettyprint">INVOICE</code>, E-İrsaliye için <code class="prettyprint">DESPATCHADVICE</code> gönderilmelidir. Her iki ürüne ait etiketkleri çekmek için <code class="prettyprint">ALL</code> değeri gönderilebilir. Eleman gönderilmez veya boş gönderilirse e-fatura ve e-irsaliye ait bütün liste dönülecektir.</td>
</tr>
<tr>
<td><strong>REGISTER_TIME_START</strong></td>
<td>DateTime</td>
<td>Hayır</td>
<td>Belirli bir tarihten sonra sisteme dahil olmuş mükellefi çekmek için kullanılabilir. formatı: 2013-01-01T01:01:01</td>
</tr>
</tbody></table>

<p><br><br>
Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>CONTENT</strong></td>
<td>Base64Encoded</td>
<td>Kriterlere uygun mükelleflere ait GB ve PK adresleri</td>
</tr>
</tbody></table>

<aside class="success">
Sonuç sıkıştırılmış XML dosyası içerisinde USER tipinde değerler dönmektedir. Sonuç istemci tarafına çekildikten sonra zipten çıkarılmalı ve XML dosya işlenmelidir.
</aside>

<p><strong>XML dosyasının içerisinde bulunan USER objesinin elamanları şu şekildedir :</strong></p>

<table><thead>
<tr>
<th>Eleman</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>USER.IDENTIFIER</strong></td>
<td>String</td>
<td>Mükellefe ait VKNsı.</td>
</tr>
<tr>
<td><strong>USER.ALIAS</strong></td>
<td>String</td>
<td>Mükellefe ait GB veya PK etiketi. format: urn:mail:defaultgb@firma.com</td>
</tr>
<tr>
<td><strong>USER.TITLE</strong></td>
<td>String</td>
<td>Firmanın GİB e-fatura sisteminde tanımlı ünvanı.</td>
</tr>
<tr>
<td><strong>USER.TYPE</strong></td>
<td>String</td>
<td>Firmanın GİB e-fatura sisteminde tanımlı tipi. OZEL veya KAMU olabilir.</td>
</tr>
<tr>
<td><strong>USER.UNIT</strong></td>
<td>String</td>
<td>Etiketin tipi. GB veya PK</td>
</tr>
<tr>
<td><strong>USER.DOCUMENT_TYPE</strong></td>
<td>String</td>
<td>E-Fatura için <code class="prettyprint">INVOICE</code>, E-İrsaliye için <code class="prettyprint">DESPATCHADVICE</code> dönülmektedir.</td>
</tr>
<tr>
<td><strong>USER.REGISTER_TIME</strong></td>
<td>Date</td>
<td>Firmanın GİB e-fatura sistemine ilk kayıt olduğu tarih. formatı: 2013-07-01T15:22:11</td>
</tr>
<tr>
<td><strong>USER.ALIAS_CREATION_TIME</strong></td>
<td>Date</td>
<td>Etiketin oluşturulduğu tarih. formatı: 2013-07-01T15:22:11</td>
</tr>
</tbody></table>

<h2 id="m-kellef-listesi-ekme-getuserlist-kullanmay-n-z">Mükellef Listesi Çekme (GetUserList) - Kullanmayınız</h2>

<p>Bu servis e-fatura sistemine kayıtlı bütün mükelleflere ait etiketlerin XML formatında sıkıştırılmadan toplu çekmeyi sağlamaktadır. E-Fatura sistemine kayıtlı mükellef listesinin arttığından dolayı performans sorunu oluşmuştur. Mükellef listesini sıkıştırılmış/ziplenmiş XML olarak dönen <strong>GetUserListBinary</strong> servisi eklenmiştir. <strong>Bu servis kullanımı sonlandırılmıştır.</strong> Mevcut iş ortaklarımız yeni servise geçince tamamen kapatılacaktır.  <strong>Lütfen Mükellef Listesi Çekme (GetUserListBinary) başlığını inceleyiniz.</strong></p>

<h2 id="e-fatura-m-kellefi-sorgulama-checkuser-kullanmay-n-z">E-Fatura Mükellefi Sorgulama (CheckUser) - Kullanmayınız</h2>

<aside class="warning">
  Bu servis kullanımı sonlandırılmıştır. Lütfen Uygulama Yanıtı Gönderme (SendInvoiceResponseWithServerSign) başlığını inceleyiniz.
</aside>

<ul>
<li>Mükellefin, Gelir İdaresi Başkanlığı E-Fatura sistemine kayıtlı olup olmadığının kontrol edildiği servistir.</li>
<li>Sorgulanan VKN e-fatura sistemine kayıtlıysa, sistemde tanımlanmış etiket listesi dönülmektedir.</li>
<li>Sorgulanan VKN e-fatura sistemine kayıtlı değilse liste boş dönülür.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Request Header objesi içerisinde <code class="prettyprint">SESSION_ID</code> ve <code class="prettyprint">APPLICATION_NAME</code> alanı zorunludur.</td>
</tr>
<tr>
<td><strong>USER.IDENTIFIER</strong></td>
<td>String</td>
<td>Hayır</td>
<td>E-Fatura mükellefiyeti sorgulanacak firmanın vergi kimlik numarası</td>
</tr>
<tr>
<td><strong>USER.UNIT</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Mükellefe ait bir etiket tipi sorgulanmak istenildiğinde kullanılabilir. Değer olarak GB veya PK gönderilebilir.</td>
</tr>
</tbody></table>

<p><br><br>
Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>USER.IDENTIFIER</strong></td>
<td>String</td>
<td>Mükellefe ait VKNsı.</td>
</tr>
<tr>
<td><strong>USER.ALIAS</strong></td>
<td>String</td>
<td>Mükellefe ait GB veya PK etiketi.</td>
</tr>
<tr>
<td><strong>USER.TITLE</strong></td>
<td>String</td>
<td>Firmanın GİB e-fatura sisteminde tanımlı ünvanı.</td>
</tr>
<tr>
<td><strong>USER.TYPE</strong></td>
<td>String</td>
<td>Firmanın GİB e-fatura sisteminde tanımlı tipi. OZEL veya KAMU olabilir.</td>
</tr>
<tr>
<td><strong>USER.REGISTER_TIME</strong></td>
<td>Date</td>
<td>Firmanın GİB e-fatura sistemine ilk kayıt olduğu tarih. formatı: 2013-07-01T15:22:11</td>
</tr>
<tr>
<td><strong>USER.UNIT</strong></td>
<td>Date</td>
<td>Etiketin tipi. GB veya PK</td>
</tr>
<tr>
<td><strong>USER.ALIAS_CREATION_TIME</strong></td>
<td>Date</td>
<td>Etiketin oluşturulduğu tarih. formatı: 2013-07-01T15:22:11</td>
</tr>
</tbody></table>

<h2 id="fatura-g-nderme-sendinvoice">Fatura Gönderme (SendInvoice)</h2>

<ul>
<li>FATURA Entegrasyon Platformu üzerinden 1 yada daha fazla faturayı GIB (Gelir İdaresi Başkanlığı) EFATURA sistemine gönderir.</li>
<li>Bu işlemden sonra gönderilen faturaların durumları GetInvoiceStatus servisi ile kontrol edilmelidir.</li>
<li>Faturanın durumu GIB’de hatalı olduğu zaman bu servis ile faturayı aynı fatura numarası ve aynı ETTN ile tekrar gönderilebilir.</li>
<li>Fatura yüklenirken fatura şema ve şematron kontrolü ve tekillik kontrolünden geçirilir. Fatura XML içerisinde hata varsa sisteme yüklenmez. Fatura XML içerisinde ki sorun düzeltilerek tekrar gönderilmelidir.</li>
</ul>

<p>Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER.SESSION_ID</strong></td>
<td>String</td>
<td>Evet</td>
<td>Request Header objesi içerisinde bulunan SESSION_ID gönderilmelidir.</td>
</tr>
<tr>
<td><strong>REQUEST_HEADER.COMPRESSED</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Binary Fatura içeriği sıkıştırılmış/sıkıştırılmamış bilgisi. Varsayılan değer Y olduğu için gönderilmediği durumda fatura sıkıştırılarak/ziplenerek gönderilmesi beklenmektedir. <strong>Faturayı XML olarak göndermek için mutlaka eleman eklenmeli ve N değeri gönderilmelidir.</strong></td>
</tr>
<tr>
<td><strong>SENDER</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Faturayı gönderen tarafın vergi kimlik numarasını <code class="prettyprint">vkn</code> attribute içerisine, gönderici birim etiketini <code class="prettyprint">alias</code> attribute eklenmelidir. Eğer eleman gönderilmezse oturum açılan kullanıcının bağlı olduğu hesapta ki VKN ve gönderici birim etiketi kullanılacaktır. <strong>Sender elemanı gönderilmesini tavsiye ederiz.</strong></td>
</tr>
<tr>
<td><strong>RECEIVER</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Faturanın alıcı tarafının vergi kimlik numarasını <code class="prettyprint">vkn</code> attribute içerisine, posta kutusu etiketini <code class="prettyprint">alias</code> attribute içerisine eklenmelidir. Eğer eleman gönderilmezse fatura içerisinde ki alıcı taraf (AccountingCustomerParty) içerisinde ki VKN ve o VKN için tanımlanmış herhangi bir posta kutusu etiketi kullanılacaktır. <strong>Receiver elemanı gönderilmesini tavsiye ederiz. Özellikle alıcı tarafından posta kutusu tercihi talep edilmişse bu eleman kullanılmalıdır.</strong></td>
</tr>
<tr>
<td><strong>INVOICE:CONTENT</strong></td>
<td>Array</td>
<td>Evet</td>
<td>Faturanın Base64Binary tipinde XML veya Ziplenmiş içeriği. Bir istek ile çoklu fatura gönderimi yapılabilir. <strong>Birden fazla fatura göndermek için INVOICE elemanı çoklanmalıdır.</strong></td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda 0 değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="taslak-fatura-y-kleme-loadinvoice">Taslak Fatura Yükleme (LoadInvoice)</h2>

<ul>
<li>FATURA Entegrasyon Platformu üzerinden 1 yada daha fazla faturayı E-Fatura sistemine yükler.</li>
<li>Eğer fatura numarası atanmışsa (16 hane ise) şema ve şematron kontrolünden geçirilir. Fatura numarası atanmamışsa şema ve şematron kontrolü yapılmaz.</li>
<li>Aynı faturanın tekrar yüklenmesine müsade edilir. Farklı kayıt oluşturulmaz. Oluşan kayıt yeni içerik ile güncellenir.</li>
</ul>

<p><br>
Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Request Header objesi içerisinde <code class="prettyprint">SESSION_ID</code> ve <code class="prettyprint">APPLICATION_NAME</code> alanı zorunludur. Fatura sıkıştırılarak/ziplenerek gönderiliyorsa <code class="prettyprint">COMPRESSED</code> alanı gönderilmeyebilir veya <code class="prettyprint">Y</code> olarak gönderilebilir. <strong>Faturayı XML formatında sıkıştırılmadan yüklemek için mutlaka <code class="prettyprint">COMPRESSED</code> eleman eklenmeli ve <code class="prettyprint">N</code> değeri gönderilmelidir.</strong></td>
</tr>
<tr>
<td><strong>INVOICE.CONTENT</strong></td>
<td>Array</td>
<td>Evet</td>
<td>Faturanın Base64Binary olarak encode edilmiş XML veya Ziplenmiş içeriği. Bir istek ile çoklu fatura gönderimi yapılabilir. <strong>Birden fazla fatura göndermek için INVOICE elemanı çoklanmalıdır.</strong></td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda 0 değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="fatura-okuma-getinvoice">Fatura Okuma (GetInvoice)</h2>

<ul>
<li>E-Fatura sisteminden giden imzalı faturaları veya gelen faturaları muhasebe paketine çekmek için kullanılır.</li>
<li>Fatura özet bilgilerini veya fatura özet bilgileri ile beraber XML içeriğini de çekmek için kullanılabilir.</li>
<li>Entegrasyon yapan iş ortaklarımızdan yeni gelen bütün faturaları içerikleri (XML) beraber müşteri ortamına çekilmesini tavsiye ediyoruz.</li>
<li>İçerik ile beraber en fazla 100 fatura çekilebilir.</li>
<li>Fatura özet bilgileri ile en fazla 25000 adet fatura dönülmektedir.</li>
<li>Alıcı tarafından zamanlanmış fatura çekme özelliği eklenecekse en fazla 15 dakika aralığında olmalıdır.</li>
</ul>

<p><br>
Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
<th>Örnek</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Request Header objesi içerisinde <code class="prettyprint">SESSION_ID</code> ve <code class="prettyprint">APPLICATION_NAME</code> alanı zorunludur. Faturaları XML formatında sıkıştırılmadan çekmek için mutlaka <code class="prettyprint">COMPRESSED</code> elemanı eklenmeli ve <code class="prettyprint">N</code> değeri gönderilmelidir. Eğer gönderilmezse faturalar sıkıştırılmış/ziplenmiş olarak dönülecektir.</td>
<td>Y/N</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.LIMIT</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Kaç fatura okunmak istendiği. Eğer eleman gönderilmezse 10 adet fatura, fatura içerikleri (XML) ile beraber en fazla 100 adet fatura, sadece fatura başlıklarını çekildiğindeise en fazla 25.000 adet fatura dönülür.</td>
<td>100</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.FROM</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Gönderici firma gönderici birim (GB) etiketine göre çekmek için kullanılabilir. Örneğin birden fazla GB etiketi olan bir firmanın sadece muhasebe departmanından gelen faturaları okumak için kullanılabilir.</td>
<td>urn:mail:muhasebegb@firma.com</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.TO</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Birden fazla Posta Kutusu (PK) etiketi olan bir firmanın sadece bir PK adresine gelen faturaları çekmek için kullanılabilir. Eğer etiket gönderilmez ise kullanıcının yetkisine bağlı olarak bütün faturalar dönülür.</td>
<td>urn:mail:muhasebepk@firma.com</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.ID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Fatura numarası ile fatura okumak için kullanılabilir.</td>
<td>FYA2018000000001</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.UUID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Fatura Evrensel Tekil Tanımlama Numarası (ETTN) ile fatura okumak için kullanılabilir.</td>
<td>GUID formatında</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.START_DATE</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Belirli tarih aralığında fatura çekmek istendiğinde dönem başlangıç tarihi</td>
<td>YYYY-MM-DD</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.END_DATE</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Belirli tarih aralığında fatura çekmek istendiğinde dönem bitiş tarihi</td>
<td>YYYY-MM-DD</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.READ_INCLUDED</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Fatura okurken daha önce okunmuş faturaları dönüşe dahil edilip edilmeyeceğini belirler. <code class="prettyprint">Y</code> değeri gönderilirse fatura daha önce okunmuş olsa bile yanıta eklenir. Gönderilmezse veya <code class="prettyprint">N</code> gönderilirse sadece yeni gelen faturalar dönülür.</td>
<td>Y/N</td>
</tr>
<tr>
<td><strong>HEADER_ONLY</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Fatura içerik ile beraber mi yoksa sadece özet bilgisi mi okunmak istenildiğini belirler. Eleman <strong>gönderilmezse</strong> veya <code class="prettyprint">N</code> değeri gönderilirse faturalar XML ile beraber dönülür. <code class="prettyprint">Y</code> değeri gönderilirse faturaların özeti dönülür.</td>
<td>Y/N</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>INVOICE</strong></td>
<td>ComplexType</td>
<td>Sorgu kriterine uyan fatura(lar)ın listesi. Fatura numarası <code class="prettyprint">ID</code>, fatura evrensel tekil tanımlama numarası  <code class="prettyprint">UUID</code> ve e-fatura sisteminde tanımlı tekil numara değeri  <code class="prettyprint">LIST_ID</code> attribute içerisinde dönülmektedir.</td>
</tr>
<tr>
<td><strong>INVOICE.HEADER</strong></td>
<td>ComplexType</td>
<td>Faturaya ait özet bilgiler içermektedir.</td>
</tr>
<tr>
<td><strong>HEADER.SENDER</strong></td>
<td>String</td>
<td>Faturayı gönderen firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>HEADER.RECEIVER</strong></td>
<td>String</td>
<td>Faturayı alan firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>HEADER.SUPPLIER</strong></td>
<td>String</td>
<td>Faturayı gönderen firma ünvanı.</td>
</tr>
<tr>
<td><strong>HEADER.CUSTOMER</strong></td>
<td>String</td>
<td>Faturayı alan firma ünvanı.</td>
</tr>
<tr>
<td><strong>HEADER.ISSUE_DATE</strong></td>
<td>String</td>
<td>Fatura tarihi.</td>
</tr>
<tr>
<td><strong>HEADER.PAYABLE_AMOUNT</strong></td>
<td>String</td>
<td>Toplam ödenecek tutar.</td>
</tr>
<tr>
<td><strong>HEADER.FROM</strong></td>
<td>String</td>
<td>Faturayı gönderen Gönderici Birim (GB)</td>
</tr>
<tr>
<td><strong>HEADER.TO</strong></td>
<td>String</td>
<td>Faturanın geldiği Posta Kutusu (PK)</td>
</tr>
<tr>
<td><strong>HEADER.PROFILEID</strong></td>
<td>String</td>
<td>Faturanın senaryosu. TEMELFATURA, TICARIFATURA,IHRACATFATURA, YOLCUBERABER değerleri olabilir.</td>
</tr>
<tr>
<td><strong>HEADER.INVOICE_TYPE_CODE</strong></td>
<td>String</td>
<td>Faturanın tipi. SATIS, IADE, ISTISNA, IHRACAT, OZELMATRAH, TEVKIFAT, IHRACKAYITLI değerleri olabilir.</td>
</tr>
<tr>
<td><strong>HEADER.STATUS</strong></td>
<td>String</td>
<td>Faturanın durumu. Detay için <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Fatura durum açıklaması. Detay için <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.GIB_STATUS_CODE</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durum kodu. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.GIB_STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durumunun kodunun açıklaması. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.RESPONSE_CODE</strong></td>
<td>String</td>
<td>Ticari fatura için verilen yanıtı içeren zarfın durum kodu</td>
</tr>
<tr>
<td><strong>HEADER.RESPONSE_DESC</strong></td>
<td>String</td>
<td>Ticari fatura için verilen yanıtı içeren zarfın durum açıklaması</td>
</tr>
<tr>
<td><strong>HEADER.CDATE</strong></td>
<td>String</td>
<td>Faturanın sistemimize ulaştığı tarih</td>
</tr>
<tr>
<td><strong>HEADER.ENVELOPE_IDENTIFIER</strong></td>
<td>String</td>
<td>Faturanın zarf IDsi.</td>
</tr>
<tr>
<td><strong>INVOICE.CONTENT</strong></td>
<td>String</td>
<td>Faturanın içeriği. Eğer <code class="prettyprint">COMPRESSED</code> elemanı <code class="prettyprint">N</code> olarak gönderilmişse XML dosya, <code class="prettyprint">COMPRESSED</code> elemanı gönderilmemiş veya <code class="prettyprint">Y</code> değeri gönderilmişse sıkıştırılmış/ziplenmiş XML dosyası dönülür.</td>
</tr>
</tbody></table>

<h2 id="fatura-g-rsel-okuma-getinvoicewithtype">Fatura Görsel Okuma (GetInvoiceWithType)</h2>

<ul>
<li>E-Fatura sisteminden bulunan bir faturanın görselini çekmek için tasarlanmış servistir.</li>
<li>Faturaların HTML ve PDF görsellerini çekebilirsiniz.</li>
<li>Fatura görseli içerisinde ki XSLT ile yapılacaktır. Eğer fatura içerisinde ki şablonda sorun varsa hata fırlatılacaktır.</li>
<li>İçerik sıkıştırılmış olarak dönülmektedir. İstemciye çektikten sonra unzip edilmelidir.</li>
</ul>

<p><br>
Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Request Header objesi içerisinde <code class="prettyprint">SESSION_ID</code> ve <code class="prettyprint">APPLICATION_NAME</code> alanı zorunludur. <strong>Bu serviste <code class="prettyprint">COMPRESSED</code> elemanı dikkate alınmamaktadır.</strong>   Talep edilen formatta sıkıştırılmış/ziplenmiş olarak dönülecektir. İstemciye çektikten sonra unzip edilmelidir.</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.ID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Fatura numarası ile fatura okumak için kullanılabilir. örnek FYA2018000000001 <code class="prettyprint">UUID</code> elamanı gönderilmemişse zorunludur.</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.UUID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Fatura Evrensel Tekil Tanımlama Numarası (ETTN) ile fatura okumak için kullanılabilir. <code class="prettyprint">ID</code> elamanı gönderilmemişse zorunludur.</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.TYPE</strong></td>
<td>String</td>
<td>Evet</td>
<td>Faturanın çekilmek istenilen tipi: PDF, HTML, XML olabilir.</td>
</tr>
<tr>
<td><strong>HEADER_ONLY</strong></td>
<td>String</td>
<td>Evet</td>
<td>Fatura görseli çekmek için <code class="prettyprint">Y</code> gönderilmelidir.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>INVOICE</strong></td>
<td>ComplexType</td>
<td>Sorgu kriterine uyan fatura(lar)ın listesi. Fatura numarası <code class="prettyprint">ID</code>, fatura evrensel tekil tanımlama numarası  <code class="prettyprint">UUID</code> ve e-fatura sisteminde tanımlı tekil numara değeri  <code class="prettyprint">LIST_ID</code> attribute içerisinde dönülmektedir.</td>
</tr>
<tr>
<td><strong>INVOICE.HEADER</strong></td>
<td>ComplexType</td>
<td>Faturaya ait özet bilgiler içermektedir.</td>
</tr>
<tr>
<td><strong>HEADER.SENDER</strong></td>
<td>String</td>
<td>Faturayı gönderen firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>HEADER.RECEIVER</strong></td>
<td>String</td>
<td>Faturayı alan firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>HEADER.SUPPLIER</strong></td>
<td>String</td>
<td>Faturayı gönderen firma ünvanı.</td>
</tr>
<tr>
<td><strong>HEADER.CUSTOMER</strong></td>
<td>String</td>
<td>Faturayı alan firma ünvanı.</td>
</tr>
<tr>
<td><strong>HEADER.ISSUE_DATE</strong></td>
<td>String</td>
<td>Fatura tarihi.</td>
</tr>
<tr>
<td><strong>HEADER.PAYABLE_AMOUNT</strong></td>
<td>String</td>
<td>Toplam ödenecek tutar.</td>
</tr>
<tr>
<td><strong>HEADER.FROM</strong></td>
<td>String</td>
<td>Faturayı gönderen Gönderici Birim (GB)</td>
</tr>
<tr>
<td><strong>HEADER.TO</strong></td>
<td>String</td>
<td>Faturanın geldiği Posta Kutusu (PK)</td>
</tr>
<tr>
<td><strong>HEADER.PROFILEID</strong></td>
<td>String</td>
<td>Faturanın senaryosu. TEMELFATURA, TICARIFATURA,IHRACATFATURA, YOLCUBERABER değerleri olabilir.</td>
</tr>
<tr>
<td><strong>HEADER.INVOICE_TYPE_CODE</strong></td>
<td>String</td>
<td>Faturanın tipi. SATIS, IADE, ISTISNA, IHRACAT, OZELMATRAH, TEVKIFAT, IHRACKAYITLI değerleri olabilir.</td>
</tr>
<tr>
<td><strong>HEADER.STATUS</strong></td>
<td>String</td>
<td>Faturanın durumu. Detay için <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Fatura durum açıklaması. Detay için <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.GIB_STATUS_CODE</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durum kodu. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.GIB_STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durumunun kodunun açıklaması. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.RESPONSE_CODE</strong></td>
<td>String</td>
<td>Ticari fatura için verilen yanıtı içeren zarfın durum kodu</td>
</tr>
<tr>
<td><strong>HEADER.RESPONSE_DESC</strong></td>
<td>String</td>
<td>Ticari fatura için verilen yanıtı içeren zarfın durum açıklaması</td>
</tr>
<tr>
<td><strong>HEADER.CDATE</strong></td>
<td>String</td>
<td>Faturanın sistemimize ulaştığı tarih</td>
</tr>
<tr>
<td><strong>HEADER.ENVELOPE_IDENTIFIER</strong></td>
<td>String</td>
<td>Faturanın zarf IDsi.</td>
</tr>
<tr>
<td><strong>INVOICE.CONTENT</strong></td>
<td>Base64Binary</td>
<td>Faturanın talep edilen formatta <strong>(PDF, HTML)</strong> sıkıştırılmış/ziplenmiş dosyası dönülür. <strong>İstemciye çektikten sonra unzip edilmeldir.</strong></td>
</tr>
</tbody></table>

<h2 id="fatura-okundu-aretleme-markinvoice">Fatura Okundu İşaretleme (MarkInvoice)</h2>

<ul>
<li>E-Fatura sisteminde bir veya birden fazla faturayı alındı/alınmadı olarak işaretlemek için geliştirilmiş servistir.</li>
<li>GetInvoice servisi ile müşteri ortamına başarı alınan faturaların tekrar sorgulandığında listede gelmemesi için MarkInvoice servisi ile alındı olarak işaretlenmeli.</li>
</ul>

<p><br>
Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Request Header objesi içerisinde <code class="prettyprint">SESSION_ID</code> ve <code class="prettyprint">APPLICATION_NAME</code> alanı zorunludur.</td>
</tr>
<tr>
<td><strong>MARK.value</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Başarı ile alındıysa <code class="prettyprint">READ</code> gönderilmeli. Daha önce alındı olarak işaretlenen bir faturayı tekrar çekmeden önce <code class="prettyprint">UNREAD</code> olarak gönderilebilir.</td>
</tr>
<tr>
<td><strong>INVOICE.ID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>İşaretlenecek faturanın numarası. Örnek: FYA2018000000001</td>
</tr>
<tr>
<td><strong>INVOICE.UUID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>İşaretlenecek faturanın ETTNsi. GUID formatında olmalı.</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>RETURN_CODE</strong></td>
<td>String</td>
<td>Başarılı durumlarda <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="fatura-durum-sorgulama-getinvoicestatus">Fatura Durum Sorgulama (GetInvoiceStatus)</h2>

<ul>
<li>E-Fatura sisteminde bulunan bir veya birden fazla taslak, gelen ve giden faturaların durumunu sorgulamayı sağlayan servistir.</li>
</ul>

<p><br>
Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Request Header objesi içerisinde <code class="prettyprint">SESSION_ID</code> ve <code class="prettyprint">APPLICATION_NAME</code> alanı zorunludur.</td>
</tr>
<tr>
<td><strong>INVOICE.ID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Durumu sorgulanacak faturanın 16 hane fatura numarası. örnek: FYA2018000000001 <strong>Eğer UUID elemanı gönderilmezse zorunludur.</strong></td>
</tr>
<tr>
<td><strong>INVOICE.UUID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Durumu sorgulanacak faturanın GUID formatında ETTN değeri. <strong>Eğer ID elemanı gönderilmezse zorunludur.</strong></td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>INVOICE_STATUS</strong></td>
<td>ComplexType</td>
<td>Sorgu kriterine uyan fatura(lar)ın listesi. Fatura numarası <code class="prettyprint">ID</code>, fatura evrensel tekil tanımlama numarası  <code class="prettyprint">UUID</code> attribute içerisinde dönülmektedir.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.STATUS</strong></td>
<td>String</td>
<td>Faturanın e-fatura sisteminde ki durumu. Detay için <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Fatura durum açıklaması. Detay için <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.GIB_STATUS_CODE</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durum kodu. Faturanın GİB&#39;de ki durumu e-fatura sistemi tarafından henüz sorgulanmadıysa eleman dönülmez. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.GIB_STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durumunun kodunun açıklaması. Faturanın GİB&#39;de ki durumu e-fatura sistemi tarafından henüz sorgulanmadıysa eleman dönülmez. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.RESPONSE_CODE</strong></td>
<td>String</td>
<td>Ticari fatura için verilen yanıtı içeren zarfın durum kodu. Eğer faturanın senaryosu TICARIFATURA değilse eleman dönülmez.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.RESPONSE_DESC</strong></td>
<td>String</td>
<td>Ticari fatura için verilen yanıtı içeren zarfın durum açıklaması. Eğer faturanın senaryosu TICARIFATURA değilse eleman dönülmez.</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.CDATE</strong></td>
<td>String</td>
<td>Faturanın e-fatura sistemine yüklendiği/ulaştığı tarih</td>
</tr>
<tr>
<td><strong>INVOICE_STATUS.ENVELOPE_IDENTIFIER</strong></td>
<td>String</td>
<td>Faturanın zarf IDsi. Taslak faturalar için eleman dönülmez.</td>
</tr>
</tbody></table>

<h3 id="fatura-durumlar">Fatura Durumları</h3>

<table><thead>
<tr>
<th>AŞAMA</th>
<th>AÇIKLAMA</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">Ara Aşama</code></td>
<td>Faturanın veya uygulama yanıtının alıcısına ulaştırılmak için geçen aşamanın tamamlanmadığı durumdur. Ara Aşamada ki faturalar üzerinde işlem yapılmamalı ve sürecin tamamlanması beklenmelidir.</td>
</tr>
<tr>
<td><code class="prettyprint">Nihai Aşama</code></td>
<td>Faturanın veya uygulama yanıtının alıcısına ulaştırılma süreci tamamlanmıştır. Nihai Aşamada ki faturanın başarılı mı yoksa başarısız mı tamamlandığı kontrol edilerek gerekli aksiyon alınmalıdır. <strong>Nihai Aşama faturanın başarılı olduğu anlamına gelmez.</strong></td>
</tr>
</tbody></table>

<h3 id="gelen-fatura-durumlar">Gelen Fatura Durumları</h3>

<table><thead>
<tr>
<th>STATUS</th>
<th>SUBSTATUS</th>
<th>PORTAL STATUS</th>
<th>Detaylı Açıklama</th>
<th>Aşama Durumu</th>
</tr>
</thead><tbody>
<tr>
<td>RECEIVE</td>
<td>SUCCEED</td>
<td>Fatura Alımı - Başarıyla işlendi</td>
<td>Temel Fatura Alımı Başarılı</td>
<td>Nihai Aşama</td>
</tr>
<tr>
<td>RECEIVE</td>
<td>WAIT_APPLICATION_RESPONSE</td>
<td>Fatura Alımı - Fatura Onayı Bekleniyor</td>
<td>Ticari Faatura Alımı Başarılı</td>
<td>Ara Aşama</td>
</tr>
<tr>
<td>ACCEPT</td>
<td>PROCESSING</td>
<td>Gelen Ticari Fatura Kabul – İşleniyor</td>
<td>Gelen Ticari Fatura Kabul Edilmiştir  ve kabul yanıtı GİB’e gönderilmek üzere işlenmektedir.  Hala GİB’e gönderilmemiştir.</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>ACCEPT</td>
<td>WAIT_GIB_RESPONSE</td>
<td>Gelen Ticari Fatura Kabul – GIB&#39;e Gönderildi</td>
<td>Gelen Ticari Fatura Kabul Edilmiştir  ve kabul yanıtı GIB’e gönderildi.  GIB den onayın alındığına dair sistem yanıtı bekleniyor.</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>ACCEPT</td>
<td>WAIT_SYSTEM_RESPONSE</td>
<td>Gelen Ticari Fatura Kabul – Sistem Yanıtı Bekleniyor</td>
<td>Fatura onayı GIB tarafından alıcısına gönderildi ve alıcı taraftan onayın alındığına dair sistem yanıtı bekleniyor</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>ACCEPT</td>
<td>FAILED</td>
<td>Gelen Ticari Fatura Kabul - Başarısız oldu</td>
<td>Onaylanan Ticari fatura cevabı gönderiminden hata oluştu.  Bu fatura tekrar onaylanabilir.</td>
<td>Nihai Aşama</td>
</tr>
<tr>
<td>ACCEPT</td>
<td>SUCCEED</td>
<td>Gelen Ticari Fatura Kabul - Başarıyla işlendi</td>
<td>Gelen Ticari Fatura Kabul Edilmiştir  ve kabul yanıtı göndericiye başarılı bir şekilde ulaştırılmıştır.</td>
<td>Nihai Aşama</td>
</tr>
<tr>
<td>REJECT</td>
<td>PROCESSING</td>
<td>Gelen Ticari Fatura Red – İşleniyor</td>
<td>Gelen Ticari Fatura Red Edilmiştir  ve red yanıtı GİB’e gönderilmek üzere işlenmektedir.  Hala GİB’e gönderilmemiştir.</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>REJECT</td>
<td>WAIT_GIB_RESPONSE</td>
<td>Gelen Ticari Fatura Red – GIB&#39;e Gönderildi</td>
<td>Gelen Ticari Fatura reddedilmiştir  ve red yanıtı GIB’e gönderildi.  GIB den onayın alındığına dair sistem yanıtı bekleniyor.</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>REJECT</td>
<td>WAIT_SYSTEM_RESPONSE</td>
<td>Gelen Ticari Fatura Red – Sistem Yanıtı Bekleniyor</td>
<td>Fatura onayı GIB tarafından alıcısına gönderildi ve alıcı taraftan onayın alındığına dair sistem yanıtı bekleniyor</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>REJECT</td>
<td>SUCCEED</td>
<td>Gelen Ticari Fatura Red - Başarıyla işlendi</td>
<td>Gelen Ticari Fatura Red Edilmiştir  ve red yanıtı göndericiye başarılı bir şekilde ulaştırılmıştır.</td>
<td>Nihai Aşama</td>
</tr>
<tr>
<td>REJECT</td>
<td>FAILED</td>
<td>Gelen Ticari Fatura Red - Başarısız oldu</td>
<td>Gelen Ticari Fatura Red Edilmiştir  ve red yanıtı GİB’de veya alıcı tarafında oluşan bir sebeple hatalı duruma ulaşmıştır.</td>
<td>Nihai Aşama</td>
</tr>
</tbody></table>

<h3 id="giden-fatura-durumlar">Giden Fatura Durumları</h3>

<table><thead>
<tr>
<th>STATUS</th>
<th>SUBSTATUS</th>
<th>PORTAL STATUS</th>
<th>Detaylı Açıklama</th>
<th>Aşama Durumu</th>
</tr>
</thead><tbody>
<tr>
<td>LOAD</td>
<td>SUCCEED</td>
<td>Fatura Yükleme - Başarılı</td>
<td>Fatura Yükleme Başarılı</td>
<td>Nihai Aşama</td>
</tr>
<tr>
<td>LOAD</td>
<td>FAILED</td>
<td>Fatura Yükleme - Başarısız</td>
<td>Oldu   Fatura Yükleme Hatalı</td>
<td>Nihai Aşama</td>
</tr>
<tr>
<td>PACKAGE</td>
<td>FAILED</td>
<td>Fatura Paketleme - Başarısız oldu</td>
<td>Fatura paketleme sırasında hata oluştu.  Sistem tarafından tekrar paketle işlemi yapılarak gönderilecektir.</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>PACKAGE</td>
<td>SUCCEED</td>
<td>Fatura Paketleme - Başarıyla işlendi</td>
<td>Fatura paketleme başarılı</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>SEND</td>
<td>PROCESSING</td>
<td>Fatura Gönderimi - İşleniyor</td>
<td>Fatura Gönderimi Yapılıyor</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>SEND</td>
<td>SUCCEED</td>
<td>Fatura Gönderimi - Başarıyla işlendi</td>
<td>Temel Fatura Gönderimi Başarılı</td>
<td>Nihai Aşama</td>
</tr>
<tr>
<td>SEND</td>
<td>FAILED</td>
<td>Fatura Gönderimi – Başarısız Oldu</td>
<td>Fatura Gönderiminde Hata Alındı</td>
<td>Nihai Aşama</td>
</tr>
<tr>
<td>SEND</td>
<td>WAIT_GIB_RESPONSE</td>
<td>Fatura Gönderimi - GIB&#39;e Gönderildi</td>
<td>Fatura GIB e gönderildi ve GIB den faturanın alındığına dair sistem yanıtı bekleniyor</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>SEND</td>
<td>WAIT_SYSTEM_RESPONSE</td>
<td>Fatura Gönderimi - Sistem Yanıtı Bekleniyor</td>
<td>Fatura GIB tarafından alıcısına gönderildi ve alıcı taraftan faturanın alındığına dair sistem yanıtı bekleniyor</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>SEND</td>
<td>WAIT_APPLICATION_RESPONSE</td>
<td>Fatura Gönderimi - Fatura Onayı Bekleniyor</td>
<td>Ticari Fatura Alıcıdan Cevap Bekliyor</td>
<td>Ara aşama</td>
</tr>
<tr>
<td>ACCEPTED</td>
<td>SUCCEED</td>
<td>Giden Ticari Fatura Kabul - Başarıyla işlendi</td>
<td>Gönderilmiş olan ticari fatura alıcı tarafından kabul edilmiştir ve alıcının kabul yanıtı gönderen tarafa başarılı şekilde ulaşmıştır.</td>
<td>Nihai Aşama</td>
</tr>
<tr>
<td>REJECTED</td>
<td>SUCCEED</td>
<td>Giden Ticari Fatura Red - Başarıyla işlendi</td>
<td>Gönderilmiş olan ticari fatura alıcı tarafından red edilmiştir ve alıcının red yanıtı gönderen tarafa başarılı şekilde ulaşmıştır.</td>
<td>Nihai Aşama</td>
</tr>
</tbody></table>

<h3 id="g-b-durum-kodlar">GİB Durum Kodları</h3>

<table><thead>
<tr>
<th>KOD</th>
<th>AÇIKLAMA</th>
<th>ALINACAK AKSİYON</th>
</tr>
</thead><tbody>
<tr>
<td>1000</td>
<td>ZARF KUYRUĞA EKLENDİ</td>
<td>Durum kodunun güncellenmesi beklenmelidir.</td>
</tr>
<tr>
<td>1100</td>
<td>ZARF İŞLENİYOR</td>
<td>Durum kodunun güncellenmesi beklenmelidir.</td>
</tr>
<tr>
<td>1110</td>
<td>ZIP DOSYASI DEĞİL</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1111</td>
<td>ZARF ID UZUNLUĞU GEÇERSİZ</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1120</td>
<td>ZARF ARŞİVDEN KOPYALANAMADI</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1130</td>
<td>ZIP AÇILAMADI</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1131</td>
<td>ZIP BİR DOSYA İÇERMELİ</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1132</td>
<td>XML DOSYASI DEĞİL</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1133</td>
<td>ZARF ID VE XML DOSYASININ ADI AYNI OLMALI</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1140</td>
<td>DOKUMAN AYRIŞTIRILAMADI</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1141</td>
<td>ZARF ID YOK</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1142</td>
<td>ZARF ID VE ZIP DOSYASI ADI AYNI OLMALI</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1143</td>
<td>GEÇERSİZ VERSİYON</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1150</td>
<td>SCHEMATRON KONTROL SONUCU HATALI</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1160</td>
<td>XML SEMA KONTROLÜNDEN GEÇEMEDİ</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1161</td>
<td>İMZA SAHİBİ TCKN VKN ALINAMADI</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1162</td>
<td>İMZA KAYDEDİLEMEDİ</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1163</td>
<td>GÖNDERİLEN ZARF SİSTEMDE DAHA ÖNCE KAYITLI OLAN BİR FATURAYI İÇERMEKTEDİR</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1170</td>
<td>YETKİ KONTROL EDİLEMEDİ</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1171</td>
<td>GÖNDERİCİ BİRİM YETKİSİ YOK</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1172</td>
<td>POSTA KUTUSU YETKİSİ YOK</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1175</td>
<td>İMZA YETKİSİ KONTROL EDİLEMEDİ</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1176</td>
<td>İMZA SAHİBİ YETKİSİZ</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1177</td>
<td>GEÇERSİZ İMZA</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1180</td>
<td>ADRES KONTROL EDİLEMEDİ</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1181</td>
<td>ADRES BULUNAMADI</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1182</td>
<td>KULLANICI EKLENEMEDİ</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1183</td>
<td>KULLANICI SİLİNEMEDİ</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1190</td>
<td>SİSTEM YANITI HAZIRLANAMADI</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1195</td>
<td>SİSTEM HATASI</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1200</td>
<td>ZARF BAŞARIYLA İŞLENDİ</td>
<td>Özel entegratörden gönderilen faturada sorun tespit edilmedi. Sonra ki aşamalara geçilecek.</td>
</tr>
<tr>
<td>1210</td>
<td>DOKUMAN BULUNAN ADRESE GÖNDERİLEMEDİ</td>
<td>GİB’in tekrar gönderme denemesi sonlandıktan sonra, 1215 durum kodu alınır ise faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1215</td>
<td>DOKÜMAN GÖNDERİMİ BAŞARISIZ. TEKRAR GÖNDERME SONLANDI</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1220</td>
<td>HEDEFTEN SİSTEM YANITI GELMEDİ</td>
<td>Bu durum kodundan sonra 1230 HEDEFTEN SİSTEM YANITI BAŞARISIZ GELDİ durum kodu alınır ise Faturalar yeniden gönderilmelidir.</td>
</tr>
<tr>
<td>1230</td>
<td>HEDEFTEN SİSTEM YANITI BAŞARISIZ GELDİ</td>
<td>Faturalar yeniden gönderilmeli</td>
</tr>
<tr>
<td>1300</td>
<td>BAŞARIYLA TAMAMLANDI</td>
<td>Başarılı olan fatura aynı numara ile gönderilemez.</td>
</tr>
</tbody></table>

<h2 id="oklu-fatura-durum-sorgulama-getinvoicestatusall">Çoklu Fatura Durum Sorgulama - (GetInvoiceStatusAll)</h2>

<aside class="warning">
BU METOD DESTEKLENMEMEKTEDİR. LÜTFEN KULLANMAYINIZ.
</aside>

<h2 id="uygulama-yan-t-g-nderme-sendinvoiceresponsewithserversign">Uygulama Yanıtı Gönderme (SendInvoiceResponseWithServerSign)</h2>

<ul>
<li>E-Fatura sisteminde bulunan bir veya birden fazla gelen ticari faturaya uygulama yanıtı göndermeyi sağlayan servistir.</li>
<li>Belgelerinin <strong>imzalanmasını Özel Entegratör&#39;e devretmiş</strong> müşteriler için uygulama yanıtların e-fatura platformunda imzalanarak gönderilmesini sağlamak için hazırlanmıştır.</li>
<li>Bir faturaya en fazla 1 defa yanıt gönderilebilmektedir.</li>
<li>Yanıt gönderilmiş faturalara tekrar yanıt gönderilmesi istemci tarafında kısıtlanmalıdır.</li>
</ul>

<p><br>
Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Request Header objesi içerisinde <code class="prettyprint">SESSION_ID</code> ve <code class="prettyprint">APPLICATION_NAME</code> alanı zorunludur.</td>
</tr>
<tr>
<td><strong>STATUS</strong></td>
<td>String</td>
<td>Evet</td>
<td>Faturaya verilecek yanıt. <code class="prettyprint">KABUL</code> veya <code class="prettyprint">RED</code> değeri alabilir.</td>
</tr>
<tr>
<td><strong>INVOICE</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Yanıt gönderilecek fatura listesi</td>
</tr>
<tr>
<td><strong>DESCRIPTION</strong></td>
<td>String</td>
<td>Evet</td>
<td>Yanıt ile beraber gönderilecek mesaj. Ret edilen faturalar için <code class="prettyprint">Red Sebebi</code> bu alana yazılabilir. <code class="prettyprint">STATUS</code> KABUL ise ve bu alan gönderilmezse <em>Fatura kabul edildi</em>, <code class="prettyprint">STATUS</code> RED ise <strong>Reddedildi</strong> mesajı varsayılan olarak eklenecektir.</td>
</tr>
</tbody></table>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>RETURN_CODE</strong></td>
<td>String</td>
<td>İşlem başarılı ise <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<p><br></p>

<h3 id="servisten-d-nebilecek-hatalar">Servisten Dönebilecek Hatalar</h3>

<table><thead>
<tr>
<th>Hata Açıklaması</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>Daha önce yanıtlanmış bir fatura için tekrar yanıt gönderilemez! Fatura UUID:xxxxxxx</td>
<td>Bir faturaya en fazla 1 defa yanıt gönderilebilmektedir. <strong>Bundan dolayı yanıt gönderilmiş faturalara tekrar yanıt gönderilmesi istemci tarafında kısıtlanmalıdır.</strong></td>
</tr>
<tr>
<td>Fatura ID : FYA201800000001 sistemde bulunamadı!</td>
<td>E-Fatura sisteminde gelen fatura kutusunda bulunmayan bir faturaya uygulama yanıtı gönderme yapıldığı zaman dönülmektedir. Özellikle birden fazla hesabı olan firmalarda, erişim yetkisi olan bir kullanıcı tarafından istemciye indirilen bir faturaya, faturaya erişim yetkisi olmayan bir kullanıcı tarafından yanıt gönderilince karşılaşılmaktadır.</td>
</tr>
<tr>
<td>Uygulama yanıtı 8 gün geciktiği için cevap gönderilemez</td>
<td>Ticari fatura özel entegratör sistemine ulaştıktan sonra 8 gün içerisinde yanıtlanmalıdır. İstemci 8 günü geçen faturalar için kontrol eklemelidir. 8 günü hesaplamak için GetInvoice servisinde fatura için dönülen CDATE alanına 8 gün eklenebilir.</td>
</tr>
<tr>
<td>Fatura durumu yanıtlama için uygun olmadıgından işlem sonlandı! Fatura UUID:XXX-XXX-, STATUS:XXXXX-XXXXX</td>
<td>Uygulama yanıtı gönderilmiş ve hala süreci tamamlanmamış bir faturaya tekrar yanıt gönderildiğinde dönülen hatadır.</td>
</tr>
</tbody></table>

<p><br><br></p>

<h2 id="uygulama-yan-t-haz-rlama-prepareinvoiceresponse-kullanmay-n-z">Uygulama Yanıtı Hazırlama (PrepareInvoiceResponse) - Kullanmayınız</h2>

<aside class="warning">
Bu servis kullanımı sonlandırılmıştır. Lütfen Uygulama Yanıtı Gönderme (SendInvoiceResponseWithServerSign) başlığını inceleyiniz.
</aside>

<h2 id="uygulama-yan-t-g-nderme-mzal-sendinvoiceresponse">Uygulama Yanıtı Gönderme - İmzalı  (SendInvoiceResponse)</h2>

<aside class="warning">
Bu servis uygulama yanıtını kendi mali mühürü ile hazırlayıp göndermek isteyenler için hazırlanmıştır. Eğer belgelerinizin imzalanmasını Özel Entegratör'e devretmişseniz bu servisi kullanmayınız. Lütfen  Uygulama Yanıtı Gönderme (SendInvoiceResponseWithServerSign) başlığını inceleyiniz.
</aside>

<p><br>
Servise gönderilmesi gereken parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Request Header objesi içerisinde <code class="prettyprint">SESSION_ID</code> ve <code class="prettyprint">APPLICATION_NAME</code> alanı zorunludur.</td>
</tr>
<tr>
<td><strong>APPRESPONSE</strong></td>
<td>Base64Binary</td>
<td>Evet</td>
<td>ApplicationResponse formatında hazırlanmış ve imzalanmış uygulama yanıtının Base64Binary encode edilmiş değeri. Uygulama yanıtı hazırlamak için GİB kılavuzunda paylaşılan Uygulama Yanıtı dokümanı inceleyebilirisiniz.</td>
</tr>
</tbody></table>

<p>br&gt;<br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>TXN_ID</strong></td>
<td>String</td>
<td>Sunucuda işlemin gerçekleştirildiği transaction IDsi. Bu ID istemci tarafında kaydedilerek oluşabilecek hatalarda referans olarak destek ekibine iletilebilir.</td>
</tr>
<tr>
<td><strong>RETURN_CODE</strong></td>
<td>String</td>
<td>İşlem başarılı ise <code class="prettyprint">0</code> değeri döner. Başarısız olduğunda WS Fault objesi dönecektir.</td>
</tr>
</tbody></table>

<h2 id="zarf-okuma-getenvelope-kullanmay-n-z">Zarf Okuma (GetEnvelope) - Kullanmayınız</h2>

<aside class="warning">
Bu servis kullanımdan kaldırılmıştır. Lütfen GetInvoice servisini kullanınız.
</aside>

<h2 id="zarf-durum-sorgulama-getenvelopestatus-kullanmay-n-z">Zarf Durum Sorgulama (GetEnvelopeStatus) - Kullanmayınız</h2>

<aside class="warning">
Bu servis kullanımdan kaldırılmıştır. Lütfen GetInvoiceStatus servisini kullanınız.
</aside>

<h2 id="zarf-okundu-aretleme-markenvelope-kullanmay-n-z">Zarf Okundu İşaretleme (MarkEnvelope) - Kullanmayınız</h2>

<aside class="warning">
Bu servis kullanımdan kaldırılmıştır. Lütfen MarkInvoice servisini kullanınız.
</aside>

<h2 id="uygulama-yan-t-ekme-getapplicationresponse-kullanmay-n-z">Uygulama Yanıt Çekme (getApplicationResponse) - Kullanmayınız</h2>

<aside class="warning">
Bu servis kullanımdan kaldırılmıştır. Fatura durum sorgulaması yaparak verilen yanıt durumunu öğrenebilirsiniz.
</aside>

          <h1 id="e-ar-iv-fatura-servisi">E-Arşiv Fatura Servisi</h1>

<p>e-Arşiv servisi, e-arşiv mükellefinin fatura gönderimini sağlayan webservis uygulamasıdır.</p>

<h2 id="g-b-dok-manlar">GİB Dokümanları</h2>

<table><thead>
<tr>
<th>Doküman</th>
<th>Açıklama</th>
<th>İndir</th>
</tr>
</thead><tbody>
<tr>
<td><strong>UBL-TR Fatura</strong></td>
<td>UBL-TR v1.2 (UBL 2.1 Türkiye Özelleştirmesi) paketinde yer alan fatura belgesinde geçen elemanlara ait XSD, tanımlama, kullanım şekilleri, kardinaliteler hakkında bilgi vermek ve örnek kullanım şekillerini göstermek amacı ile hazırlanmıştır.</td>
<td><a href="/resource/BELGELER/UBL-TR Fatura - V 1.0.pdf"><img src="/images/pdf-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>UBL-TR Ortak Elemanlar</strong></td>
<td>UBL-TR (UBL 2.1 Türkiye Özelleştirmesi) paketinde yer alan belgelerde geçmesi muhtemel elemanlara ait (ortak elemanlar örneğin: Adres, Parasal Toplamlar, Taraf gibi) XSD, açıklama, kullanım şartları, kardinaliteler hakkında bilgi vermek ve örnek kullanım şekillerini göstermek amacı ile hazırlanmıştır.</td>
<td><a href="/resource/BELGELER/UBL-TR Ortak Elemanlar - V 0.7.pdf"><img src="/images/pdf-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>UBL-TR Kod Listeleri</strong></td>
<td>UBL-TR kapsamında kullanılan Kodlama Sistemleri ve Kimlik Şemaları hakkında bilgi vermek amacı ile hazırlanmıştır.</td>
<td><a href="/resource/BELGELER/UBL-TR Kod Listeleri - V 1.18.pdf"><img src="/images/pdf-icon.png" height="40" width="35"/></a></td>
</tr>
</tbody></table>

<h2 id="ubl-fatura-rnekleri">UBL-Fatura Örnekleri</h2>

<p>E-Fatura ve E-Arşiv Fatura sistemi üzerinden düzenlebilecek ve gönderilebilecek fatura senaryoları ve örnek fatura XML dosyası aşağıda listelenmiştir.</p>

<aside class="notice">Listede bulunmayan senaryolar için fatura üretmek için  E-Fatura Portale erişebilirsiniz.</aside>

<table><thead>
<tr>
<th>Fatura Senaryosu</th>
<th>Açıklama</th>
<th>XML</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Temel Fatura</strong></td>
<td>Alıcısı tarafından elektronik ortamda kabul veya reddedilemeyen fatura tipidir.</td>
<td><a href="/resource/xml/temel_fatura_ornek.xml" target="_blank"><img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>Ticari Fatura</strong></td>
<td>Alıcısı tarafından elektronik ortamda kabul veya reddedilebilen fatura tipidir.</td>
<td><a href="/resource/xml/ticari_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>Satış Faturası</strong></td>
<td>Mal satışı veya hizmet ifası sonrası alıcıya düzenlenen fatura tipidir.</td>
<td><a href="/resource/xml/satis_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>İade Faturası</strong></td>
<td>Alınan bir fatura üzerinde ki yanlış tutar veya eksik bilgi sebebi ile düzenlenen fatura tipidir. <strong>İade faturası TEMELFATURA olarak gönderilmesi zorunludur.</strong></td>
<td><a href="/resource/xml/iade_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>İstisna Faturası</strong></td>
<td>İstisna Faturası</td>
<td><a href="/resource/xml/istisna_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>Özel Mathrah Faturası</strong></td>
<td>Özel Matrah Faturası</td>
<td><a href="/resource/xml/ozelmatrah_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>Tevkifat Faturası</strong></td>
<td>Tevkifat Faturası</td>
<td><a href="/resource/xml/tevkifat_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>İhraç Kayıtlı Fatura</strong></td>
<td>İhraç Kayıtlı Fatura</td>
<td><a href="/resource/xml/ihrackayitli_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>İhracat Faturası</strong></td>
<td>İhracat Faturası</td>
<td><a href="/resource/xml/ihracat_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>Yolcu Beraberi (Taxfree)</strong></td>
<td>Yolcu Beraberi (Taxfree)</td>
<td><a href="/resource/xml/taxfree_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
<tr>
<td><strong>SGK Faturası</strong></td>
<td>SGK Faturası TEMELFATURA senaryosunda gönderilmek zorundadır.</td>
<td><a href="/resource/xml/sgk_fatura_ornek.xml" target="_blank"> <img src="/images/xml-icon.png" height="40" width="35"/></a></td>
</tr>
</tbody></table>

<h2 id="wsdl-endpoint-adresi">WSDL Endpoint Adresi</h2>

<p>E-Arşiv Webservisine aşağıdaki adresten erişilmektedir:</p>

<p>Test Sistemi: <a href="https://efaturatest.izibiz.com.tr/EIArchiveWS/EFaturaArchive?wsdl">https://efaturatest.izibiz.com.tr/EIArchiveWS/EFaturaArchive?wsdl</a></p>

<p>Test Portal Adresimiz: <a href="https://portaltest.izibiz.com.tr">https://portaltest.izibiz.com.tr</a></p>

<p>Test portali erişim bilgileri için <strong>entegrasyon@izibiz.com.tr</strong> adresi ile iletişime geçebilirsiniz.</p>

<h2 id="dikkat-edilecek-hususlar">Dikkat Edilecek Hususlar</h2>

<p>Uygulamanızı tasarlarken aşağıda ki bilgiler faydalı olacaktır:</p>

<ul>
<li>Login servisi ile giriş yaparak session id alınacak. Session Id sistemimiz tarafında 8 saate kadar zaman aşımına uğramadığı için kullanıcı giriş yapınca session id alıp bütün kullanım süresinde aynı session id kullanabilirsiniz. Portal tarafında sessionlar 30 dk timeout süresi bulunuyor.</li>
<li>WriteToArchieveExtended servisi ile UBL formatlı e-arşiv faturası gönderilir.</li>
<li>ReadFromArchive servisi ile faturanın ihtiyaç duyulan formatta alınır.</li>
<li>CancelEArchiveInvoice servisi ile iptal edilen fatura GIB bildirilmek üzere gönderilir.</li>
<li>GetEArchiveInvoiceStatus serivisi ile izibiz platformuna yüklemiş olduğunuz e-Arşiv faturasanın durumu , email durumu ve raporlanma durumunu sorgulayabilirsiniz.</li>
<li>GetEArchiveReport servisi ile gelir idaresin raporlanan e-arşiv raporlarını dönemlik olarak çekebilirsiniz.</li>
<li>ReadEArchiveReport serivisi ile gelir idaresinde gönderilen rapor detayını sorgulayabilirsiniz.</li>
<li>GetEmailEarchiveInvoice servisi ile izibiz platformuna daha önceden yüklenen e-arşiv faturasının tekrardan mail gönderilmesini tetiklenmektedir</li>
<li>E-Fatura ve E-Arşiv faturalarda farklı seri ile düzenlenmelidir.</li>
<li>İnternet üzerinden yapılan satışlar için düzenlenen E-Arşiv faturaları ile diğer satışlardan (E-Fatura veya E-Arşiv) farklı serilerden düzenlenmesi zorunludur.</li>
<li>UBL-TR olarak hazırlanan E-Arşiv faturaların ProfileId alanı EARSIVFATURA olarak yazılmalıdır.</li>
<li>E-Arşiv faturalarda faturanın düzenlenme zamanı(IssueTime) alanı zorunludur.</li>
<li>E-Arşiv faturalarda AdditionalDocumentReference alanında DocumentTypeCode ve DocumentType alanları zorunlu alandır.</li>
<li>İnternet üzerinden yapılan satış için düzenlenen faturalar için Ödeme Şekli (PaymentMeans) ve Kargo bilgileri (Delivery) zorunludur.</li>
</ul>

<h2 id="stmeci-client-rnek-projeler">İstmeci (client) Örnek Projeler</h2>

<p>E-Arşiv entegrasyonu için sunucu taraflı programlama diline uygun farklı istemci(client) örnekleri sunar. Bu istemcilerden programlama yapmak istediğiniz dile uygun olanı seçip sandbox(test) bilgileri ile kullanmaya başlayabilirsiniz.</p>

<p><a href="/resource/client/izibiz-earsiv-dotnet-client.zip" target="_blank"><img src="/images/icon_dotnet.png"/></a>
<a href="/resource/client/izibiz-php-client.zip" target="_blank"><img src="/images/icon_php.png"/></a>
<a href="/resource/client/izibiz-earsiv-java-client.zip" target="_blank"><img src="/images/icon_java.png"/></a></p>

<h2 id="deme-ekilleri">Ödeme Şekilleri</h2>

<p>e-Arşiv ve e-Fatura ödeme paymentmeans tag’ini fatura içerisinde kullanıyorsanız bu alanın örnek kod’ları aşağıdaki gibidir.</p>

<table><thead>
<tr>
<th>KOD</th>
<th>AÇIKLAMASI</th>
</tr>
</thead><tbody>
<tr>
<td>48</td>
<td>KREDIKARTI/BANKAKARTI</td>
</tr>
<tr>
<td>46</td>
<td>EFT/HAVALE</td>
</tr>
<tr>
<td>10</td>
<td>KAPIDAODEME</td>
</tr>
<tr>
<td>1</td>
<td>Diğerleri</td>
</tr>
</tbody></table>

<p>Diğer kodlar için aşağıdaki referanslardan yararlanabilirsiniz.
* Referans 1: http://www.unece.org/trade/untdid/d11a/tred/tred4461.htm
** Referans 2: https://www.stylusstudio.com/edifact/D01C/4461.htm</p>

<h2 id="e-ar-iv-fatura-g-nderme-writetoarchieveextended">E-Arşiv Fatura Gönderme (WriteToArchieveExtended)</h2>

<ul>
<li>E-Arşiv faturalarını göndermek için kullanılan servistir.
<br>
Servise gönderilmesi gereken parametreler şu şekildedir:</li>
</ul>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Zorunluluk</th>
<th>Açıklama</th>
<th>Örnek</th>
</tr>
</thead><tbody>
<tr>
<td><strong>REQUEST_HEADER</strong></td>
<td>ComplexType</td>
<td>Evet</td>
<td>Request Header objesi içerisinde <code class="prettyprint">SESSION_ID</code> ve <code class="prettyprint">APPLICATION_NAME</code> alanı zorunludur. Faturaları XML formatında sıkıştırılmadan çekmek için mutlaka <code class="prettyprint">COMPRESSED</code> elemanı eklenmeli ve <code class="prettyprint">N</code> değeri gönderilmelidir. Eğer gönderilmezse faturalar sıkıştırılmış/ziplenmiş olarak dönülecektir.</td>
<td>Y/N</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.LIMIT</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Kaç fatura okunmak istendiği. Eğer eleman gönderilmezse 10 adet fatura, fatura içerikleri (XML) ile beraber en fazla 100 adet fatura, sadece fatura başlıklarını çekildiğindeise en fazla 25.000 adet fatura dönülür.</td>
<td>100</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.FROM</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Gönderici firma gönderici birim (GB) etiketine göre çekmek için kullanılabilir. Örneğin birden fazla GB etiketi olan bir firmanın sadece muhasebe departmanından gelen faturaları okumak için kullanılabilir.</td>
<td>urn:mail:muhasebegb@firma.com</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.TO</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Birden fazla Posta Kutusu (PK) etiketi olan bir firmanın sadece bir PK adresine gelen faturaları çekmek için kullanılabilir. Eğer etiket gönderilmez ise kullanıcının yetkisine bağlı olarak bütün faturalar dönülür.</td>
<td>urn:mail:muhasebepk@firma.com</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.ID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Fatura numarası ile fatura okumak için kullanılabilir.</td>
<td>FYA2018000000001</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.UUID</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Fatura Evrensel Tekil Tanımlama Numarası (ETTN) ile fatura okumak için kullanılabilir.</td>
<td>GUID formatında</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.START_DATE</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Belirli tarih aralığında fatura çekmek istendiğinde dönem başlangıç tarihi</td>
<td>YYYY-MM-DD</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.END_DATE</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Belirli tarih aralığında fatura çekmek istendiğinde dönem bitiş tarihi</td>
<td>YYYY-MM-DD</td>
</tr>
<tr>
<td><strong>SEARCH_KEY.READ_INCLUDED</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Fatura okurken daha önce okunmuş faturaları dönüşe dahil edilip edilmeyeceğini belirler. <code class="prettyprint">Y</code> değeri gönderilirse fatura daha önce okunmuş olsa bile yanıta eklenir. Gönderilmezse veya <code class="prettyprint">N</code> gönderilirse sadece yeni gelen faturalar dönülür.</td>
<td>Y/N</td>
</tr>
<tr>
<td><strong>HEADER_ONLY</strong></td>
<td>String</td>
<td>Hayır</td>
<td>Fatura içerik ile beraber mi yoksa sadece özet bilgisi mi okunmak istenildiğini belirler. Eleman <strong>gönderilmezse</strong> veya <code class="prettyprint">N</code> değeri gönderilirse faturalar XML ile beraber dönülür. <code class="prettyprint">Y</code> değeri gönderilirse faturaların özeti dönülür.</td>
<td>Y/N</td>
</tr>
</tbody></table>

<p><br><br></p>

<p>Servisten dönen parametreler şu şekildedir:</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Tip</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td><strong>INVOICE</strong></td>
<td>ComplexType</td>
<td>Sorgu kriterine uyan fatura(lar)ın listesi. Fatura numarası <code class="prettyprint">ID</code>, fatura evrensel tekil tanımlama numarası  <code class="prettyprint">UUID</code> ve e-fatura sisteminde tanımlı tekil numara değeri  <code class="prettyprint">LIST_ID</code> attribute içerisinde dönülmektedir.</td>
</tr>
<tr>
<td><strong>INVOICE.HEADER</strong></td>
<td>ComplexType</td>
<td>Faturaya ait özet bilgiler içermektedir.</td>
</tr>
<tr>
<td><strong>HEADER.SENDER</strong></td>
<td>String</td>
<td>Faturayı gönderen firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>HEADER.RECEIVER</strong></td>
<td>String</td>
<td>Faturayı alan firma VKN&#39;si.</td>
</tr>
<tr>
<td><strong>HEADER.SUPPLIER</strong></td>
<td>String</td>
<td>Faturayı gönderen firma ünvanı.</td>
</tr>
<tr>
<td><strong>HEADER.CUSTOMER</strong></td>
<td>String</td>
<td>Faturayı alan firma ünvanı.</td>
</tr>
<tr>
<td><strong>HEADER.ISSUE_DATE</strong></td>
<td>String</td>
<td>Fatura tarihi.</td>
</tr>
<tr>
<td><strong>HEADER.PAYABLE_AMOUNT</strong></td>
<td>String</td>
<td>Toplam ödenecek tutar.</td>
</tr>
<tr>
<td><strong>HEADER.FROM</strong></td>
<td>String</td>
<td>Faturayı gönderen Gönderici Birim (GB)</td>
</tr>
<tr>
<td><strong>HEADER.TO</strong></td>
<td>String</td>
<td>Faturanın geldiği Posta Kutusu (PK)</td>
</tr>
<tr>
<td><strong>HEADER.PROFILEID</strong></td>
<td>String</td>
<td>Faturanın senaryosu. TEMELFATURA, TICARIFATURA,IHRACATFATURA, YOLCUBERABER değerleri olabilir.</td>
</tr>
<tr>
<td><strong>HEADER.INVOICE_TYPE_CODE</strong></td>
<td>String</td>
<td>Faturanın tipi. SATIS, IADE, ISTISNA, IHRACAT, OZELMATRAH, TEVKIFAT, IHRACKAYITLI değerleri olabilir.</td>
</tr>
<tr>
<td><strong>HEADER.STATUS</strong></td>
<td>String</td>
<td>Faturanın durumu. Detay için <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Fatura durum açıklaması. Detay için <strong>Fatura Durumları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.GIB_STATUS_CODE</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durum kodu. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.GIB_STATUS_DESCRIPTION</strong></td>
<td>String</td>
<td>Faturanın GİB&#39;de ki durumunun kodunun açıklaması. Detay için <strong>GİB Durum Kodları</strong> başlığını inceleyiniz.</td>
</tr>
<tr>
<td><strong>HEADER.RESPONSE_CODE</strong></td>
<td>String</td>
<td>Ticari fatura için verilen yanıtı içeren zarfın durum kodu</td>
</tr>
<tr>
<td><strong>HEADER.RESPONSE_DESC</strong></td>
<td>String</td>
<td>Ticari fatura için verilen yanıtı içeren zarfın durum açıklaması</td>
</tr>
<tr>
<td><strong>HEADER.CDATE</strong></td>
<td>String</td>
<td>Faturanın sistemimize ulaştığı tarih</td>
</tr>
<tr>
<td><strong>HEADER.ENVELOPE_IDENTIFIER</strong></td>
<td>String</td>
<td>Faturanın zarf IDsi.</td>
</tr>
<tr>
<td><strong>INVOICE.CONTENT</strong></td>
<td>String</td>
<td>Faturanın içeriği. Eğer <code class="prettyprint">COMPRESSED</code> elemanı <code class="prettyprint">N</code> olarak gönderilmişse XML dosya, <code class="prettyprint">COMPRESSED</code> elemanı gönderilmemiş veya <code class="prettyprint">Y</code> değeri gönderilmişse sıkıştırılmış/ziplenmiş XML dosyası dönülür.</td>
</tr>
</tbody></table>

          <h1 id="e-defter-servisi">E-Defter Servisi</h1>

<h2 id="uygulaman-n-zellikleri">Uygulamanın Özellikleri</h2>

<ul>
<li>Platform bağımsız özelliği ile veritabanına erişerek doğrudan veya CSV formatında veri aktarımı desteklenmektedir</li>
<li>Yaygın kullanılan muhasebe sistemleri ile tam uyumludur. Veritabanına erişilebilen bütün senaryoları desteklemektedir</li>
<li>Yevmiye ve sıra numaralandırmasını ERP&#39;den veya E-Defter programından yapabilme</li>
<li>Kullanıcı yönetim ve yetkilendirme modülü ile sınırsız kullanıcı oluşturma ve yetkilendirme</li>
<li>Defter Oluşturma</li>
<li>Defter İmzalama</li>
<li>Berat Oluşturma</li>
<li>Berat İmzalama</li>
<li>GIB’e Otomatik Berat Yükleme</li>
<li>GIB’den Otomatik Berat İndirme</li>
<li>Birden fazla firmanın e-Defter ihtiyacını tek kurulum ile yönetebilme</li>
<li>Organizasyon yönetimi ile çoklu firma ve çoklu şube yönetimi desteklenmektedir</li>
<li>Kolay arayüzü ve yüksek performans sayesinde hızlı e-defter üretme ve takip</li>
<li>Doğrudan GİB entegrasyonu sayesinde program içerisinden online berat yükleme ve indirme</li>
<li>Oluşturulan E-Defterlerin İzibiz sunucularında saklama özelliği</li>
<li>Mali mühürün ortak bir sunucuda kurulumu yapılarak bir çok bilgisayarda kullanılması</li>
<li>İmzalama yönteminde mali mühür yanında zaman damgası kullanımı tercih ederek verinin değişmezliğinin sağlanması</li>
<li>Dönemde tarih aralığına göre defter oluşturma ve boyuta göre parçalama özelliği</li>
<li>Kullanıcı hatalarını önleyen arayüzü sayesinde iş akışına göre butonların aktif olması</li>
<li>Entegrasyon kaynağından aktarılan verilerin GİB standartlarına uygunluk kontrolü ve hatalı kayıt bazında kullanıcının uyarılması</li>
</ul>

<h2 id="rnek-verideseni">Örnek Verideseni</h2>

<p>İZİBİZ E-Defter uygulaması platform bağımsızdır. Bundan dolayı verilerin kaynak ortamda programın beklediği formatta hazırlanması beklemektedir. Beklenen veri desen hakkında aşağıda detaylı bilgi paylaşılmıştır.</p>

<p>Hazırlanan veriler <strong>CSV formatında</strong> olarak veya <strong>veritabanında View (Görünüm)</strong> hazırlanarak programa aktarılabilir.</p>

<p><strong>Örnek Dosya İndir:</strong> <a href="/resource/edefter/verideseni_ornek.csv" target="_blank">
                            <img src="/images/csv-icon.png" height="40" width="35"/>
                        </a>
<br><br></p>

<table><thead>
<tr>
<th><strong>Alan Adı</strong></th>
<th><strong>Açıklama</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>detailref</strong></td>
<td>Detay satır referansı</td>
</tr>
<tr>
<td><strong>entryref</strong></td>
<td>Bu alan muhasebe fişlerini gruplamak için kullandığımız bir alandır, bulunması zorunludur.</td>
</tr>
<tr>
<td><strong>Fişler</strong></td>
<td>hesaplanırken bu referans numarasına göre gruplanmaktadır. Bu alana, eğer ERP’de muhasebe fiş satır referans numaraları varsa onların yazılması gerekmekte. Eğer yoksa yevmiye madde numarası yani linenumbercounter yazılması gerekmekte.</td>
</tr>
<tr>
<td><strong>linenumber</strong></td>
<td>Yevmiye madde numarası haricinde dönem başında 1’den başlayacak ve arada boşluk olmaksızın ardışık olacak şekilde yevmiye madde satır numarası</td>
</tr>
<tr>
<td><strong>linenumbercounter</strong></td>
<td>Yevmiye madde no</td>
</tr>
<tr>
<td><strong>accmainid</strong></td>
<td>Kebir kodu (muhasebe kodu ilk 3 hane)</td>
</tr>
<tr>
<td><strong>accmainiddesc</strong></td>
<td>Kebir kodu (muhasebe kodu ilk 3 hane) açıklaması</td>
</tr>
<tr>
<td><strong>accsubid</strong></td>
<td>Muhasebe kodu</td>
</tr>
<tr>
<td><strong>accsubdesc</strong></td>
<td>Muhasebe kod açıklaması</td>
</tr>
<tr>
<td><strong>amount</strong></td>
<td>Tutar (negatif değer olmamalı)</td>
</tr>
<tr>
<td><strong>debitcreditcode</strong></td>
<td>Borç ise D, Alacak ise C</td>
</tr>
<tr>
<td><strong>postingdate</strong></td>
<td>Muhasebe fiş tarihi</td>
</tr>
<tr>
<td><strong>documenttype</strong></td>
<td><strong>invoice:</strong> Fatura <strong>check:</strong> Çek  <strong>voucher:</strong> Senet  ** other:** other : Yukarıda sayılanların dışında varolan belgeler için <strong>“other”</strong> belge türü kullanılır ve bununda açıklaması (documenttypedescription) alanında yapılır.  Belgeler hakkında detaylı bilgi için <strong>Önemli Hususlar</strong> başlığını inceleyebilirsiniz.</td>
</tr>
<tr>
<td><strong>documenttypedesc</strong></td>
<td><em>Doküman tipinin other olması durumunda bazı örnekler;</em> <strong>Paymentmethod Banka;</strong> Gelen Havaleler, Gönderilen Havaleler <strong>Paymentmethod Nakit;</strong> CH Tahsilat, CH Ödeme, Bankaya Yatırılan, Bankadan Çekilen, Gider Pusulası, Verilen Serbest Meslek Makbuzu, Alınan Serbest Meslek Makbuzu <strong>Paymentmethod Teminat Mektubu;</strong> Teminat Girişi,Teminat Çıkışı</td>
</tr>
<tr>
<td><strong>documentnumber</strong></td>
<td>İlişkili belgenin numarası (Örn: Fatura numarası)</td>
</tr>
<tr>
<td><strong>documentreference</strong></td>
<td>Muhasebe fiş referans numarası, kullanılan sistemde böyle bir numara yoksa yevmiye no</td>
</tr>
<tr>
<td><strong>entrynumbercounter</strong></td>
<td>Yevmiye madde no</td>
</tr>
<tr>
<td><strong>documentdate</strong></td>
<td>İlişkili belgenin tarihi (Örn: Fatura tarihi) yyyy-aa-gg formatında</td>
</tr>
<tr>
<td><strong>paymentmethod</strong></td>
<td>Çek, Senet, Nakit, Banka, Teminat Mektubu ya da boş</td>
</tr>
<tr>
<td><strong>detailcomment</strong></td>
<td>Muhasebe fişi satır açıklaması</td>
</tr>
<tr>
<td><strong>erpno</strong></td>
<td>Kullanılan sistemde firmaları birbirinden ayırt eden firma numarası, yoksa 001</td>
</tr>
<tr>
<td><strong>divisionno</strong></td>
<td>Kullanılan sistemde işyerlerini birbirinden ayıran işyeri numarası, kağıt ortamında basılan defterlerde ayrı olarak basılıyorsa e-defter’de farklı bir işyeri numarasına sahip olmalı yoksa 0</td>
</tr>
<tr>
<td><strong>enteredby</strong></td>
<td>Muhasebe fişini giren kişinin ad soyad ilk harfi yada açık halde adı soyadı</td>
</tr>
<tr>
<td><strong>entereddate</strong></td>
<td>Muhasebe fişi kayıt tarihi</td>
</tr>
<tr>
<td><strong>entrynumber</strong></td>
<td>Muhasebe fiş numarası, kullanılan sistemde böyle bir numara yoksa yevmiye no</td>
</tr>
<tr>
<td><strong>entrycomment</strong></td>
<td>Muhasebe fişi açıklaması</td>
</tr>
</tbody></table>

<aside class="warning">
  Platform bağımsız e-defter uygulaması olduğumuz için Gelir İdaresi Başkanlığına gönderilecek verilerin hazırlanması mükellefin sorumluluğundadır.
Muhasebe programında GİB’in belirlediği doküman tipleri haricinde belge türü olması durumunda, bu belgelerin hangi belge türü ile ilişkilendirileceği konusunda mali müşavirinizden bilgi alabilirsiniz.
</aside>

<h2 id="nemli-hususlar">Önemli Hususlar</h2>

<p>E-defter uygulamasına geçen mükelleflerin e-defteri oluşturacak kayıtların oluşturulması esnasında dikkat etmesi gereken konuları, e-defter belge tiplerinin neler olduğunu, e-defter alanlarının nasıl doldurulması gerektiğine değineceğiz.
Elektronik defter tutanlar, elektronik defterlerini oluşturdukları ve muhafaza ettikleri bilgi işlem sistemlerinin haczedilmesi veya bu sistemlere yetkili mercilerce el konulması halinde, durumu en geç üç iş günü içerisinde Başkanlık’a bildirmek zorundadırlar.</p>

<aside class="notice">DİKKAT: Elektronik defter uygulamasında her bir belgeye ait bilgilerin, tek bir yevmiye kaydında gösterilmesi esastır.
</aside>

<h3 id="belge-tipi">Belge Tipi</h3>

<p>Muhasebe kaydına esas teşkil eden işlem bir belgeye dayanıyorsa, mutlaka belge tipi alanının kullanılması gerekmektedir. Ancak muhasebe kaydına esas teşkil eden işlem bir belgeye dayanmıyorsa belge tipi alanı kullanılmamalıdır. Dolayısıyla muhasebe kaydına esas teşkil eden işlem bir belgeye dayanmıyorsa, belge türü, tarihi veya numarası gibi bilgiler verilemez. Örneğin, açılış-kapanış işlemleri belgeye dayalı olmayabilir.</p>

<p>Gelir İdaresi Başkanlığının yayımlandığı Yevmiye Defteri kılavuzunda aşağıdaki sekiz belge tipi tanımlanmıştır. Tabloda sayılan yedi belge tipinin dışında ki belgeler için <strong>“Diğer”</strong> belge türü kullanılır.</p>

<table><thead>
<tr>
<th><strong>Belge Tipi</strong></th>
<th><strong>Esas Belge</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>invoice</strong></td>
<td>Fatura</td>
</tr>
<tr>
<td><strong>check</strong></td>
<td>Çek</td>
</tr>
<tr>
<td><strong>voucher</strong></td>
<td>Senet</td>
</tr>
<tr>
<td><strong>receipt</strong></td>
<td>Makbuz</td>
</tr>
<tr>
<td><strong>shipment</strong></td>
<td>Navlun</td>
</tr>
<tr>
<td><strong>order-vendor</strong></td>
<td>Satıcı Sipariş Belgesi</td>
</tr>
<tr>
<td><strong>order-customer</strong></td>
<td>Müşteri Sipariş Belgesi</td>
</tr>
<tr>
<td><strong>other</strong></td>
<td>Diğer</td>
</tr>
</tbody></table>

<h3 id="perakende-sat-fi-i">Perakende Satışı Fişi</h3>

<p>Perakende satış fişi sayılan 7 belge içerisinde olmadığı için belge tipi diğer olarak, belge açıklaması da perakende satış fişi olarak seçilmelidir.</p>

<h3 id="banka-lemleri">Banka İşlemleri</h3>

<p>Bilindiği üzere bankaya ait işlemlerde muhasebe kaydına esas belge bankadan verilen dekont olmaktadır. Dekontların e-Defter uygulamasında belge tipi <strong>“Diğer”</strong> ve belge açıklaması <strong>“dekont”</strong> olarak kaydı yapılır ve dekontun numara ve tarihinin de girilmesi zorunludur. Ancak dekont üzerinde belge numarası-tarihi yok ise, kullanılan muhasebe programının söz konusu işleme vermiş olduğu tarih ve numara, belge numarası ve tarihi olarak yazılabilir.</p>

<p>Eğer bankaya ait işlemler dekont bazında tek tek muhasebeleştirilemiyorsa, bu banka işlemleri günlük olarak, banka banka ayrıştırmak koşuluyla, her bir bankadan yapılan işlemler birer muhasebe fişinde işlenebilir. e-Defterde bu kayda esas belge olarak muhasebe fişi gösterilebilir. Bu muhasebe fişi e-defter uygulamasında belge tipi <strong>“Diğer”</strong> ve belge açıklaması <strong>“Muhasebe Fişi”</strong> olarak kaydı yapılır ve fişin numarası ve tarihi girilir.</p>

<h3 id="masraf-listeleri">Masraf Listeleri</h3>

<p>Gün içinde işletmenin ya da personelin yapmış olduğu giderlere ilişkin alınmış belgeler teknik kılavuzlarda sayılan belgelerden biriyse mutlaka belge tipi kılavuzda belirtildiği gibi olmalıdır. Örneğin, personelin yapmış olduğu giderler arasında belge olarak fatura varsa, bu fatura ayrı bir yevmiye kaydında belge türü <strong>“invoice”</strong> yani fatura olarak fatura belge tarih-numarası da yazılmak şartıyla kaydedilmelidir. Eğer yapılan giderle ilgili belge tipi, tablo 1’de sayılan ilk yedi belge tipinden biri değil ise bir masraf formu oluşturulup eDefter uygulamasında belge tipi <strong>“Diğer”</strong> ve belge açıklaması <strong>“masraf formu”</strong> olarak kaydı yapılır. Ayrıca bu masraf formunun numarası ve tarihinin de girilmesi zorunludur. Bu masraf formlarında matbu bir numara ve tarih olmadığı için, oluşturulacak her bir form için müteselsil bir numara ve formun oluşturulduğu günün tarihi üzerine yazılmalıdır. Bu masraf formunda yapılan giderlere ait belgelerin detayları yer almak zorundadır. Ayrıca bu masraf formu firma kaşesi ve imzasıyla matbu olarak ya da elektronik imza/mali mühür ile elektronik ortamda muhafaza edilmek zorundadır. Elektronik ortamda tutulacak belgelerin görüntülenebilir ve doğrulanabilir şekilde muhafaza ve ibraz edilmesinden, diğer matbu belgeler de olduğu gibi, mükellef sorumludur.</p>

<h3 id="z-raporu">Z raporu</h3>

<p>Gün sonunda her bir yazar kasadan alınan Z raporu, muhasebe kaydında belge tipi <strong>“Diğer”</strong> ve belge açıklaması <strong>“Z Raporu”</strong> olarak kaydı yapılır. Ayrıca bu Z Raporu’nun numarası ve tarihinin de girilmesi zorunludur. Ancak gün içinde yapılan satışlarda Z Raporunun üzerinde yer alan ödeme yöntemlerine (nakit, kredi kartı, vb.) göre ayrıştırılmalıdır. Ödeme yöntemine isabet edecek KDV tutarlarının da ayrıştırılması ve her bir ödeme yönteminin farklı yevmiye maddelerinde gösterilmesi gerekmektedir.</p>

<h3 id="ek-bordrosu">Çek Bordrosu</h3>

<p>e-Defter uygulamasında kılavuzda sayılan tüm belge tiplerinde olduğu gibi, her bir çek belgesinin de ayrı yevmiye maddelerine kaydedilmesi esastır. Ancak çek bordrosuyla da kaydı mümkün olduğundan e-Defter uygulamasında da bu bordolar üzerinden, aynı alıcı veya satıcıya ait olmak şartıyla, birden fazla çek aynı yevmiye maddesinde kaydedilebilir. Ayrıca muhasebe kaydında belge tipi <strong>“Diğer”</strong> ve belge açıklaması <strong>“Çek bordrosu”</strong> olarak kaydı yapılır ve bu çek bordrosunun numarası ve tarihinin girilmesi zorunludur. Bu çek bordrosunda matbu bir numara ve tarih olmadığı için, oluşturulacak her bir bordro için müteselsil bir numara verilmeli ve bordronun oluşturulduğu günün tarihi üzerine yazılmalıdır. Her bir çek bordrosunda, çeklerin detayları yer almak zorundadır. Bu çek bordrosu firma kaşesi ve imzasıyla matbu olarak ya da elektronik imza/mali mühür ile elektronik ortamda muhafaza edilmek zorundadır. Elektronik ortamda tutulacak belgelerin görüntülenebilir ve doğrulanabilir şekilde muhafaza ve ibraz edilmesinden, diğer matbu belgeler de olduğu gibi, mükellef sorumludur.</p>

<h3 id="senet-bordrosu">Senet Bordrosu</h3>

<p>e-Defter uygulamasında kılavuzda sayılan tüm belge türlerinde olduğu gibi, her bir senet belgesinin de ayrı yevmiye maddelerine kaydedilmesi esastır. Ancak senet bordrosuyla da kaydı mümkün olduğundan e-Defter uygulamasında da bu bordolar üzerinden, aynı alıcı veya satıcıya ait olmak şartıyla, birden fazla senet aynı yevmiye maddesinde kaydedilebilir. Ayrıca muhasebe kaydında belge tipi <strong>“Diğer”</strong> ve belge açıklaması <strong>“Senet bordrosu”</strong> olarak kaydı yapılır ve bu senet bordrosunun numarası ve tarihinin girilmesi zorunludur. Bu senet bordrosunda matbu bir numara ve tarih olmadığı için, oluşturulacak her bir bordro için müteselsil bir numara verilmeli ve bordronun oluşturulduğu günün tarihi üzerine yazılmalıdır. Senet bordrolarında, senetlerin detayları yer almak zorundadır. Bu senet bordrosu firma kaşesi ve imzasıyla matbu olarak ya da elektronik imza/mali mühür ile elektronik ortamda muhafaza edilmek zorundadır. Elektronik ortamda tutulacak belgelerin görüntülenebilir ve doğrulanabilir şekilde muhafaza ve ibraz edilmesinden, diğer matbu belgeler de olduğu gibi, mükellef sorumludur</p>

<h3 id="cret-bordrosu">Ücret Bordrosu</h3>

<p>Firmalar çalışanları için aylık olarak oluşturacakları ücret bordrolarını, e-Defter uygulamasına aktarırken, tüm personel için oluşan bordroları bir listeye bağlayıp, belge tipi <strong>“Diğer”</strong> ve belge açıklaması <strong>“Ücret Bordrosu İcmali”</strong> olarak kaydedebilir. Ücret bordrosu icmalinin numara ve tarihinin girilmesi zorunludur. Ancak Ücret bordrosu icmalinde matbu bir numara ve tarih olmadığı için, oluşturulacak her bir icmal listesi için müteselsil bir numara verilmeli ve icmalin oluşturulduğu günün tarihi üzerine yazılmalıdır. Bu ücret bordrosu icmalinde her bir ücret bordrosunun detayları yer almalıdır. Ayrıca bu icmaller firma kaşesi ve imzasıyla matbu olarak ya da elektronik imza/mali mühür ile elektronik ortamda muhafaza edilmek zorundadır. Elektronik ortamda tutulacak belgelerin görüntülenebilir ve doğrulanabilir şekilde muhafaza ve ibraz edilmesinden, diğer matbu belgeler de olduğu gibi, mükellef sorumludur.</p>

<h3 id="serbest-meslek-makbuzu">Serbest Meslek Makbuzu</h3>

<p>Serbest meslek erbabının, mesleki faaliyetlerine ilişkin her türlü tahsilatı için düzenlediği belge serbest meslek makbuzudur. Bu makbuz e-Defter kılavuzunda sayılan belgeler arasında yer alan makbuz ile karıştırılmamalıdır. Serbest meslek makbuzu sayılan belgeler arasında yer almadığı için belge tipi <strong>“Diğer”</strong> ve belge açıklaması <strong>“serbest meslek makbuzu”</strong> olarak kaydı yapılır. Ayrıca belgenin numarası ve tarihinin de girilmesi zorunludur.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="csharp">C#</a>
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="delphi">Delphi</a>
                <a href="#" data-language-name="java">Java</a>
          </div>
      </div>
    </div>
  </body>
</html>
